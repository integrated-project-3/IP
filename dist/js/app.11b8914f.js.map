{"version":3,"sources":["webpack:///src/components/header/header.vue","webpack:///./src/components/header/header.vue?e2c8","webpack:///./src/components/header/header.vue","webpack:///src/app.vue","webpack:///./src/app.vue?40db","webpack:///./src/app.vue","webpack:///src/components/selection-handler/selection-handler.vue","webpack:///./src/components/selection-handler/selection-handler.vue?971c","webpack:///./src/components/selection-handler/selection-handler.vue","webpack:///./src/scripts/script.js","webpack:///src/components/register/register.vue","webpack:///./src/components/register/register.vue?5b69","webpack:///./src/components/register/register.vue","webpack:///src/components/timeline/timeline-events.vue","webpack:///./src/components/timeline/timeline-events.vue?1a97","webpack:///./src/components/timeline/timeline-events.vue","webpack:///src/components/timeline/timeline.vue","webpack:///./src/components/timeline/timeline.vue?f3c4","webpack:///./src/components/timeline/timeline.vue","webpack:///src/components/event/event.vue","webpack:///./src/components/event/event.vue?66a3","webpack:///./src/components/event/event.vue","webpack:///./src/router.js","webpack:///./src/scripts/api.js","webpack:///./src/main.js","webpack:///./src/assets/images/logo.png"],"names":["header","stopPropagation","searchValue","header_render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","align-v","on","click","headerClicked","md","to","src","__webpack_require__","alt","align-self","directives","name","rawName","value","expression","type","placeholder","domProps","keyup","$event","_k","keyCode","key","search","input","target","composing","length","_v","_e","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","header_header","app","aHeader","app_render","fluid","app_staticRenderFns","app_injectStyle","app___vue_template_functional__","app___vue_styles__","app___vue_scopeId__","app___vue_module_identifier__","app_Component","src_app","selection_handler","Number","selection_handler_render","selectCount","handlerClicked","lg","offset-lg","offset-md","_s","variant","edit","cancel","del","selection_handler_staticRenderFns","selection_handler_injectStyle","selection_handler___vue_template_functional__","selection_handler___vue_styles__","selection_handler___vue_scopeId__","selection_handler___vue_module_identifier__","selection_handler_Component","selection_handler_selection_handler","formatDate","ticks","epochTicks","ticksSinceEpoch","millisecondsSinceEpoch","date","Date","toLocaleDateString","formatEventTime","dateTime","substring","formatEventDate","day","substr","month","year","validTitle","str","s","replace","hasLinkedEvent","a","LinkedTimelineEventIds","sortEvents","events","sortedEvents","sort","b","EventDateTime","eventsWithLinkedEvents","i","push","splice","index","map","e","indexOf","Id","ev","Array","prototype","diff","filter","fields","setSort","by","desc","clearSort","lastSelected","selectRow","item","_rowVariant","deselectRow","hoveredRow","register","aSelectionHandler","clearSelected","timelines","sortDesc","_this","focus","closeModal","newTimelineTitle","payload","modal","title","register_render","contextmenu","preventDefault","openContextMenu","staticStyle","float","openModal","items","bordered:false","sort-by","sort-desc","fixed","update:sortBy","$set","update:sortDesc","row-clicked","rowClicked","sort-changed","sortChanged","row-dblclicked","openTimeline","row-hovered","rowHovered","select-count","modalTitle","shown","modalOpened","hidden","modalClosed","model","callback","$$v","modalType","createTimeline","checkTitleInput","show","showTitleWarning","changeTitle","slot","deleteTimeline","register_staticRenderFns","register_injectStyle","register___vue_template_functional__","register___vue_styles__","register___vue_scopeId__","register___vue_module_identifier__","register_Component","register_register","_drag","lastPos","pos","difference","scale","timeline_events","selectedEvent","Title","Description","clientY","offsetLeft","newEventTitle","outerWidth","timeline_events_render","mousedown","drag","mousemove","mouseup","style","width","sliderWidth","_l","clickedTitle","isWidthLarge","cursor","selectedTitle","selectedDate","selectedTime","selectedDescription","openEvent","size","changeEventTitle","deleteEvent","timeline_events_staticRenderFns","timeline_events_injectStyle","timeline_events___vue_template_functional__","timeline_events___vue_styles__","timeline_events___vue_scopeId__","timeline_events___vue_module_identifier__","timeline_events_Component","timeline_timeline_events","timeline","aEvents","currentTimeline","option","options","back","newEventDescription","newEventDateTime","beforeAfterSelect","eventSelect","timeline_render","sm","ref","createEvent","rows","no-resize","exactDateTime","beforeAfterOptions","change","checkInput","eventOptions","changeTimelineTitle","timeline_staticRenderFns","timeline_injectStyle","timeline___vue_template_functional__","timeline___vue_styles__","timeline___vue_scopeId__","timeline___vue_module_identifier__","timeline_Component","timeline_timeline","event_event","description","currentEvent","time","Attachments","newAttachmentTitle","selectedAttachmentId","event_render","event","cancelDescription","saveDescription","attachment","clickedAttachment","disabled","createAttachment","deleteAttachment","event_staticRenderFns","event_injectStyle","event___vue_template_functional__","event___vue_styles__","event___vue_scopeId__","event___vue_module_identifier__","event_Component","components_event_event","routes","path","component","router","vue_router_esm","mode","src_router","GUID","s4","Math","floor","random","toString","getAll","get","axios_default","headers","TenantId","AuthToken","catch","error","console","log","api_createTimeline","put","TimelineId","api_deleteTimeline","api_changeTimelineTitle","api_createEvent","TimelineEventId","linkEventToTimeline","eventId","timelineId","EventId","unlinkEventFromTimeline","linkEventToEvent","linkToEventId","LinkedToTimelineEventId","unlinkEventFromEvent","unlinkedFromEventId","UnlinkedFromTimelineEventId","api_deleteEvent","api_changeEventTitle","api_changeEventDescription","api_createAttachment","AttachmentId","api_deleteAttachment","vue_default","use","es","vuex_esm","config","productionTip","store","Store","state","mutations","addTimeline","addEvent","timelineEvents","removeTimeline","setCurrentTimeline","clearCurrentTimeline","setCurrentEvent","clearCurrentEvent","updateTimelineTitle","removeEvent","updateEventTitle","updateEventDescription","addAttachment","removeAttachment","actions","_ref","commit","Promise","resolve","then","response","data","CreationTimeStamp","isDeleted","IsDeleted","selected","_ref2","deleteSelectedTimelines","_ref3","t","forEach","dispatch","_ref4","createEventExact","_ref5","newEvent","createEventBA","_ref6","beforeAfter","_ref7","eventBeforeIndex","eventAfterId","slice","_ref8","changeEventDescription","_ref9","_ref10","_ref11","getters","selectedTimelines","plugins","vuex_persistedstate_es","paths","render","h","methods","fetchTimelines","Timelines","TimelineEvents","updateCurrentTimeline","updateCurrentEvent","$store","mounted","$mount","module","exports","p"],"mappings":"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","file":"js/app.11b8914f.js","sourcesContent":["<template lang=\"html\">\r\n  <b-row class=\"header\" id=\"header\" align-v=\"start\" @click=\"headerClicked\">\r\n    <b-col md=\"6\" class=\"logo\">\r\n      <router-link to=\"/\">\r\n        <img src=\"../../assets/images/logo.png\" alt=\"Aileron Airways\" />\r\n      </router-link>\r\n    </b-col>\r\n    <b-col md=\"6\" align-self=\"center\" class=\"search\">\r\n      <input type=\"text\" v-model=\"searchValue\" placeholder=\"Search...\" @keyup.enter=\"search\" id=\"header-search-box\"/>\r\n      <i @click=\"searchValue = ''\" class=\"material-icons header-icon\" v-if=\"searchValue.length > 0\" id=\"header-clear-icon\">clear</i>\r\n      <i @click=\"search\" class=\"material-icons header-icon\" id=\"header-search-icon\">search</i>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'aHeader',\r\n  data: function() {\r\n    return {\r\n      searchValue: ''\r\n    }\r\n  },\r\n  methods: {\r\n    headerClicked() {\r\n      // stops selected timelines from being cleared on register\r\n      event.stopPropagation()\r\n    },\r\n    search: function() {\r\n      console.log(this.searchValue)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../assets/styles/theme.scss';\r\n\r\n.header {\r\n  background-color: $header-bg;\r\n  color: $text;\r\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16);\r\n  padding-bottom: 15px;\r\n  .logo {\r\n    padding: 35px 30px 15px 30px;\r\n    img {\r\n      max-width: 100%;\r\n      height: auto;\r\n    }\r\n  }\r\n  .search {\r\n    width: 100%;\r\n    #header-search-box {\r\n      background-color: $search-bg;\r\n      border-radius: 2px;\r\n      border-width: 0;\r\n      width: 93%;\r\n      font-size: 2em;\r\n      padding-left: 15px;\r\n      &:focus {\r\n        // outline: none;\r\n        outline: 1px solid gray;\r\n      }\r\n    }\r\n    .header-icon {\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      &#header-clear-icon {right: 10%;}\r\n      &#header-search-icon {font-size: 2.2em;}\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/header/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"header\",attrs:{\"id\":\"header\",\"align-v\":\"start\"},on:{\"click\":_vm.headerClicked}},[_c('b-col',{staticClass:\"logo\",attrs:{\"md\":\"6\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":require(\"../../assets/images/logo.png\"),\"alt\":\"Aileron Airways\"}})])],1),_c('b-col',{staticClass:\"search\",attrs:{\"md\":\"6\",\"align-self\":\"center\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Search...\",\"id\":\"header-search-box\"},domProps:{\"value\":(_vm.searchValue)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}}),(_vm.searchValue.length > 0)?_c('i',{staticClass:\"material-icons header-icon\",attrs:{\"id\":\"header-clear-icon\"},on:{\"click\":function($event){_vm.searchValue = ''}}},[_vm._v(\"clear\")]):_vm._e(),_c('i',{staticClass:\"material-icons header-icon\",attrs:{\"id\":\"header-search-icon\"},on:{\"click\":_vm.search}},[_vm._v(\"search\")])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8066b2e4\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/header/header.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8066b2e4\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8066b2e4\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8066b2e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header/header.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n  <b-container id=\"app\" fluid>\r\n    <a-header />\r\n    <router-view></router-view>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport aHeader from './components/header/header.vue'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    aHeader\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './assets/styles/theme.scss';\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/app.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"id\":\"app\",\"fluid\":\"\"}},[_c('a-header'),_c('router-view')],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8169ee16\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8169ee16\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n  <b-row class=\"selection-handler\" v-if=\"selectCount>0\" @click=\"handlerClicked()\">\r\n    <b-col lg=\"8\" offset-lg=\"2\" md=\"10\" offset-md=\"1\" class=\"main\">\r\n      <h2>{{ selectCount }} timeline<span v-if=\"this.selectCount>1\">s</span> selected</h2>\r\n      <div class=\"buttons\">\r\n        <b-btn v-if=\"selectCount === 1\" variant=\"info\" @click=\"edit\">Edit</b-btn>\r\n        <b-btn variant=\"cancel\" @click=\"cancel\">Cancel</b-btn>\r\n        <b-btn variant=\"delete\" @click=\"del\">Delete</b-btn>\r\n      </div>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'aSelectionHandler',\r\n  props: {\r\n    selectCount: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    handlerClicked() {\r\n      // stops selected timelines from being cleared on register\r\n      event.stopPropagation()\r\n    },\r\n    del: function() {\r\n      this.$emit(\"del\")\r\n    },\r\n    cancel: function() {\r\n      this.$emit(\"cancel\")\r\n    },\r\n    edit: function() {\r\n      this.$emit(\"edit\")\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../assets/styles/theme.scss';\r\n\r\n.selection-handler {\r\n  text-align: center;\r\n  div.main {\r\n    @media screen and (max-width: 720px) {\r\n      position: relative;\r\n    }\r\n    position: fixed;\r\n    background-color: $background;\r\n    box-shadow: 0 -3px 6px rgba(0,0,0,0.16);\r\n    bottom: 0;\r\n    padding: 9px 20px 8px 20px;\r\n    h2 {\r\n      display: inline;\r\n      float: left;\r\n    }\r\n    div.buttons {\r\n      float: right;\r\n      .btn-delete {margin-left: 20px}\r\n      .btn-cancel {margin-left: 20px}\r\n      button {\r\n        border: none;\r\n        width: 100px;\r\n      }\r\n    }\r\n    @media screen and (max-width: 670px) {\r\n      h2 {\r\n        display: block;\r\n        float: none;\r\n      }\r\n      div.buttons {\r\n        float: none;\r\n        .btn-delete {margin-left: 0;}\r\n        .btn-cancel {margin-left: 5px; margin-right: 5px;}\r\n        button {\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/selection-handler/selection-handler.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectCount>0)?_c('b-row',{staticClass:\"selection-handler\",on:{\"click\":function($event){_vm.handlerClicked()}}},[_c('b-col',{staticClass:\"main\",attrs:{\"lg\":\"8\",\"offset-lg\":\"2\",\"md\":\"10\",\"offset-md\":\"1\"}},[_c('h2',[_vm._v(_vm._s(_vm.selectCount)+\" timeline\"),(this.selectCount>1)?_c('span',[_vm._v(\"s\")]):_vm._e(),_vm._v(\" selected\")]),_c('div',{staticClass:\"buttons\"},[(_vm.selectCount === 1)?_c('b-btn',{attrs:{\"variant\":\"info\"},on:{\"click\":_vm.edit}},[_vm._v(\"Edit\")]):_vm._e(),_c('b-btn',{attrs:{\"variant\":\"cancel\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('b-btn',{attrs:{\"variant\":\"delete\"},on:{\"click\":_vm.del}},[_vm._v(\"Delete\")])],1)])],1):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1952c190\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/selection-handler/selection-handler.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1952c190\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./selection-handler.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./selection-handler.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./selection-handler.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1952c190\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./selection-handler.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1952c190\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/selection-handler/selection-handler.vue\n// module id = null\n// module chunks = ","export function formatDate(ticks) {\r\n  const epochTicks = 621355968000000000;\r\n  const ticksSinceEpoch = ticks - epochTicks;\r\n  const millisecondsSinceEpoch = ticksSinceEpoch / 10000;\r\n  const date = new Date(millisecondsSinceEpoch);\r\n  return date.toLocaleDateString()\r\n}\r\n\r\nexport function formatEventTime(dateTime) {\r\n  if (dateTime.length === 16 || dateTime.length === 18) {\r\n    return dateTime.substring(11,16)\r\n  }\r\n  return \"Time not available\"\r\n}\r\n\r\nexport function formatEventDate(dateTime) {\r\n  if (dateTime.length === 16 || dateTime.length === 18) {\r\n    var day = dateTime.substr(8,2)\r\n    var month = dateTime.substr(5,2)\r\n    var year = dateTime.substr(0,4)\r\n    return day + '/' + month + '/' + year\r\n  }\r\n  return \"Date not available\"\r\n}\r\n\r\nexport function validTitle(str) {\r\n  var s = str.replace(/\\s/g,'')\r\n  if (s.length >= 5) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nArray.prototype.diff = function(a) {\r\n  return this.filter(function(i) {return a.indexOf(i) < 0})\r\n}\r\n\r\nfunction hasLinkedEvent(a) {\r\n  if (a.LinkedTimelineEventIds != null) {\r\n    if (a.LinkedTimelineEventIds[0] != null) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport function sortEvents(events) {\r\n\r\n  // var eventsWithTime = []\r\n  // var eventsWithoutTime = []\r\n  //\r\n  // for (let i = 0; i < events.length; i++) {\r\n  //   if (events[i].EventDateTime.slice(-2) !== 'BA') {\r\n  //     eventsWithTime.push(events[i])\r\n  //   } else {\r\n  //     eventsWithoutTime.push(events[i])\r\n  //   }\r\n  // }\r\n  //\r\n  // if (eventsWithTime.length === 0) {\r\n  //   if (eventsWithoutTime.length > 0) {\r\n  //     eventsWithTime.push(eventsWithoutTime.splice(0,1)[0])\r\n  //   }\r\n  // }\r\n  //\r\n  // var sortedEvents = eventsWithTime.sort(function(a,b) {\r\n  //   a = new Date(a.EventDateTime)\r\n  //   b = new Date(b.EventDateTime)\r\n  //   return a - b\r\n  // })\r\n  //\r\n  // while (eventsWithoutTime.length != 0) {\r\n  //   for (var i = eventsWithoutTime.length-1; i >= 0; i--) {\r\n  //     var index = sortedEvents.map(function(e) {if (e.LinkedTimelineEventIds != null) if(e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithoutTime[i].Id) +1\r\n  //     if (index === 0) {\r\n  //       if (eventsWithoutTime[i].LinkedTimelineEventIds != null) {\r\n  //         if (eventsWithoutTime[i].LinkedTimelineEventIds[0] != null) {\r\n  //           index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithoutTime[i].LinkedTimelineEventIds[0])\r\n  //         } else {\r\n  //           index = -1\r\n  //         }\r\n  //       } else {\r\n  //         index = -1\r\n  //       }\r\n  //     }\r\n  //     if (index != -1) {\r\n  //       var ev = eventsWithoutTime.splice(i,1)[0]\r\n  //       sortedEvents.splice(index, 0, ev)\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  var sortedEvents = events.sort(function(a,b) {\r\n    a = new Date(a.EventDateTime)\r\n    b = new Date(b.EventDateTime)\r\n    return a - b\r\n  })\r\n\r\n  // var sortedEventIds = []\r\n  //\r\n  // for (var i = sortedEvents.length-1; i >= 0; i--) {\r\n  //   if (!sortedEventIds.includes(sortedEvents[i].Id)) {\r\n  //     if (hasLinkedEvent(sortedEvents[i])) {\r\n  //       var done = false\r\n  //       var newPos = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\r\n  //       while (!done) {\r\n  //         if (newPos != -1) {\r\n  //           if (hasLinkedEvent(sortedEvents[newPos])) {\r\n  //             var n = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newPos].LinkedTimelineEventIds[0])\r\n  //             if (n != -1) {\r\n  //               newPos = n\r\n  //             } else done = true\r\n  //           } else done = true\r\n  //         } else done = true\r\n  //       }\r\n  //       sortedEventIds.push(sortedEvents[i].Id)\r\n  //       sortedEvents.splice(newPos-1,0,sortedEvents.splice(i,1)[0])\r\n  //       if (i > 0) {\r\n  //         if (sortedEventIds.includes(sortedEvents[i-1].Id)) {\r\n  //           sortedEventIds.splice(sortedEventIds.indexOf(sortedEvents[i-1].Id), 1)\r\n  //         }\r\n  //       }\r\n  //       i = sortedEvents.length-1\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  // for (var i = 0; i < sortedEvents.length; i++) {\r\n  //   if (hasLinkedEvent(sortedEvents[i])) {\r\n  //     var moveList = []\r\n  //     moveList.push(i)\r\n  //     var newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\r\n  //     var done = false\r\n  //     // debugger\r\n  //     while (!done) {\r\n  //       if (hasLinkedEvent(sortedEvents[newIndex])) {\r\n  //         moveList.push(newIndex)\r\n  //         newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newIndex].LinkedTimelineEventIds[0])\r\n  //       } else {\r\n  //         done = true\r\n  //       }\r\n  //     }\r\n  //     for (var j = moveList.length-1; j >= 0; j--) {\r\n  //     // for (var j = 0; j < moveList.length; j++) {\r\n  //       sortedEvents.splice(newIndex-1,0,sortedEvents.splice(moveList[j], 1)[0])\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  var eventsWithLinkedEvents = []\r\n\r\n  for (let i = sortedEvents.length-1; i >= 0; i--) {\r\n    if (hasLinkedEvent(sortedEvents[i])) {\r\n      eventsWithLinkedEvents.push(sortedEvents.splice(i,1)[0])\r\n    }\r\n  }\r\n\r\n  while (eventsWithLinkedEvents.length != 0) {\r\n    for (let i = eventsWithLinkedEvents.length-1; i >= 0; i--) {\r\n      // var index = sortedEvents.map(function(e) {if (e.LinkedTimelineEventIds != null) if(e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithLinkedEvents[i].Id) +1\r\n      var index = sortedEvents.map(function(e){if (hasLinkedEvent(e)) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithLinkedEvents[i].Id)+1\r\n      if (index === 0) {\r\n        // if (eventsWithLinkedEvents[i].LinkedTimelineEventIds != null) {\r\n        //   if (eventsWithLinkedEvents[i].LinkedTimelineEventIds[0] != null) {\r\n        //     index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithLinkedEvents[i].LinkedTimelineEventIds[0])\r\n        //   } else {\r\n        //     index = -1\r\n        //   }\r\n        // } else {\r\n        //   index = -1\r\n        // }\r\n        if (hasLinkedEvent(eventsWithLinkedEvents[i])) {\r\n          index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithLinkedEvents[i].LinkedTimelineEventIds[0])\r\n        } else {\r\n          index = -1\r\n        }\r\n      }\r\n      if (index != -1) {\r\n        var ev = eventsWithLinkedEvents.splice(i,1)[0]\r\n        sortedEvents.splice(index, 0, ev)\r\n      }\r\n    }\r\n  }\r\n\r\n  return sortedEvents\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/script.js","<template lang=\"html\">\r\n  <div>\r\n    <b-row class=\"register\" align-v=\"center\" @click=\"clearSelected()\">\r\n      <b-col></b-col> <!-- used to center the table -->\r\n      <b-col md=\"11\" @contextmenu.prevent=\"openContextMenu($event)\">\r\n        <b-btn class=\"btn-round\" variant=\"create\" @click=\"openModal('createTimeline')\" style=\"float: right;\">+</b-btn>\r\n        <b-table :items=\"timelines\"\r\n                  bordered:false\r\n                  :sort-by.sync=\"sort.by\"\r\n                  :sort-desc.sync=\"sort.desc\"\r\n                  :fields=\"fields\"\r\n                  @row-clicked=\"rowClicked\"\r\n                  @sort-changed=\"sortChanged\"\r\n                  @row-dblclicked=\"openTimeline\"\r\n                  @row-hovered=\"rowHovered\"\r\n                  fixed\r\n                  >\r\n        </b-table>\r\n      </b-col>\r\n      <b-col></b-col> <!-- used to center the table -->\r\n    </b-row>\r\n    <div id=\"contextmenu\">\r\n      <ul>\r\n        <li @click=\"openModal('editTitle')\">Edit title</li>\r\n        <li @click=\"openModal('deleteTimeline')\">Delete</li>\r\n      </ul>\r\n    </div>\r\n    <a-selection-handler :select-count=\"selectCount\" @del=\"openModal('deleteTimeline')\" @cancel=\"cancel\" @edit=\"openModal('editTitle')\"></a-selection-handler>\r\n    <b-modal  v-model=\"modal\" :title=\"modalTitle\" @shown=\"modalOpened\" @hidden=\"modalClosed\">\r\n      <b-container fluid>\r\n        <b-row>\r\n          <b-col v-if=\"modalType === 'createTimeline'\">\r\n            <input type=\"text\" v-model=\"newTimelineTitle\" @keyup.enter=\"createTimeline\" @keyup=\"checkTitleInput\" placeholder=\"Enter title\" id=\"titleInput\" />\r\n            <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n          </b-col>\r\n          <b-col v-else-if=\"modalType === 'deleteTimeline'\">\r\n            <p>\r\n              Are you sure you wish to delete selected timelines?\r\n            </p>\r\n          </b-col>\r\n          <b-col v-else-if=\"modalType === 'editTitle'\">\r\n            <input type=\"text\" v-model=\"newTimelineTitle\" @keyup.enter=\"changeTitle\" @keyup=\"checkTitleInput\" placeholder=\"Enter new title\" id=\"titleInput\" />\r\n            <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n      <div slot=\"modal-footer\" class=\"w-100\">\r\n        <b-btn class=\"float-left\" @click=\"closeModal\">CANCEL</b-btn>\r\n        <b-btn v-if=\"modalType === 'createTimeline'\" class=\"float-right\" @click=\"createTimeline\">CREATE</b-btn>\r\n        <b-btn v-else-if=\"modalType === 'deleteTimeline'\" class=\"float-right\" @click=\"deleteTimeline\">DELETE</b-btn>\r\n        <b-btn v-else-if=\"modalType === 'editTitle'\" class=\"float-right\" @click=\"changeTitle\">SAVE</b-btn>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport aSelectionHandler from '../selection-handler/selection-handler.vue'\r\nimport {formatDate, validTitle} from '../../scripts/script'\r\nimport $ from 'jquery'\r\n\r\n/*\r\n  The columns of the table.\r\n*/\r\nconst fields = [\r\n  { key: 'title', sortable: true},\r\n  { key: 'date', sortable: true, formatter: 'formatDate' }\r\n]\r\n/*\r\nDefault sort.\r\n*/\r\nvar sort = {\r\n  by: 'date',\r\n  desc: false\r\n}\r\nfunction setSort(by, desc) {\r\n  sort.by = by\r\n  sort.desc = desc\r\n}\r\nfunction clearSort() {\r\n  sort.by = ''\r\n  sort.desc = ''\r\n}\r\n\r\nvar lastSelected = {}\r\n\r\nfunction selectRow(item) {\r\n  item.selected = true,\r\n  item._rowVariant = 'select'\r\n  lastSelected = item\r\n}\r\nfunction deselectRow(item) {\r\n  item.selected = false,\r\n  item._rowVariant = ''\r\n}\r\n\r\nvar hoveredRow = {}\r\n\r\nexport default {\r\n  name: 'aRegister',\r\n  components: {\r\n    aSelectionHandler\r\n  },\r\n  data() {\r\n    return {\r\n      fields,\r\n      sort,\r\n      newTimelineTitle: '',\r\n      showTitleWarning: false,\r\n      modal: false,\r\n      modalTitle: '',\r\n      modalType: '',\r\n      formatDate\r\n    }\r\n  },\r\n  mounted() {\r\n    let t = this\r\n    $('#app').click(function() {\r\n      t.clearSelected()\r\n    })\r\n  },\r\n  computed: {\r\n    timelines() {\r\n      return this.$store.state.timelines\r\n    },\r\n    selectCount() {\r\n      return this.$store.getters.selectedTimelines.length\r\n    }\r\n  },\r\n  methods: {\r\n    /* Clear all selected. */\r\n    clearSelected: function() {\r\n      for (var i = 0; i < this.$store.state.timelines.length; i++) {\r\n        var timeline = this.$store.state.timelines[i]\r\n        timeline.selected = false\r\n        timeline._rowVariant = ''\r\n      }\r\n    },\r\n    /* Select rows between 2 rows when shift click. */\r\n    selectBetweenRows: function(iStart) {\r\n      let timelines = this.$store.state.timelines\r\n      var iEnd = timelines.indexOf(lastSelected)\r\n      for (var i = Math.min(iStart, iEnd); i < Math.max(iStart, iEnd); i++) {\r\n        timelines[i].selected = true\r\n        timelines[i]._rowVariant = 'select'\r\n      }\r\n    },\r\n    /* Called when the cancel button is clicked on the selection-handler. */\r\n    cancel: function() {\r\n      this.clearSelected()\r\n    },\r\n    /*\r\n      By default the b-table sort just loops between ascending and descending.\r\n      By checking when sorted this can turn sorting off on a column every third click.\r\n    */\r\n    sortChanged: function(ctx) {\r\n      if (ctx.sortBy === sort.by && ctx.sortDesc === false && sort.desc === true) {\r\n        clearSort()\r\n      } else {\r\n        setSort(ctx.sortBy, ctx.sortDesc)\r\n      }\r\n    },\r\n    /*\r\n      Deals with selection and deselction of rows.\r\n    */\r\n    rowClicked: function(item, index, event) {\r\n      event.stopPropagation()\r\n      if (item.selected) {\r\n        if (event.ctrlKey) {\r\n          deselectRow(item)\r\n        } else if (!event.shiftKey) {\r\n          if (this.selectCount > 1) {\r\n            this.clearSelected()\r\n            selectRow(item)\r\n          } else {\r\n            deselectRow(item)\r\n          }\r\n        }\r\n      } else {\r\n        if (event.ctrlKey) {\r\n          selectRow(item)\r\n        } else if (event.shiftKey) {\r\n          if (this.selectCount > 0) {\r\n            this.selectBetweenRows(index)\r\n          }\r\n          selectRow(item)\r\n        } else {\r\n          if (this.selectCount > 0) {\r\n            this.clearSelected()\r\n          }\r\n          selectRow(item)\r\n        }\r\n      }\r\n    },\r\n    /* When a row is doulbe clicked, open that timeline. */\r\n    openTimeline: function(item) {\r\n      this.$store.commit('setCurrentTimeline', item)\r\n      this.$router.push({name: 'TIMELINE'})\r\n    },\r\n    createTimeline() {\r\n      if (!validTitle(this.newTimelineTitle)) {\r\n        document.getElementById('titleInput').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      this.$store.dispatch('createTimeline', this.newTimelineTitle).then(item => {\r\n        this.openTimeline(item)\r\n      })\r\n    },\r\n    deleteTimeline: function() {\r\n      this.closeModal()\r\n      if (this.$store.getters.selectedTimelines.length > 0) {\r\n        this.$store.dispatch('deleteSelectedTimelines')\r\n      } else {\r\n        this.$store.dispatch('deleteTimeline', lastSelected.id)\r\n      }\r\n    },\r\n    changeTitle: function() {\r\n      if (!validTitle(this.newTimelineTitle)) {\r\n        document.getElementById('titleInput').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      var payload = {\r\n        id: lastSelected.id,\r\n        title: this.newTimelineTitle\r\n      }\r\n      this.$store.dispatch('changeTimelineTitle', payload)\r\n    },\r\n    /* Called when a key is pressed on the create modal input. */\r\n    checkTitleInput: function() {\r\n      /*\r\n        If the user has tried to create a timeline that has less than 5 characters\r\n        then the warning gets shown.\r\n        This automatically hides the warning once they have entered at least 5 characters.\r\n      */\r\n      if (this.showTitleWarning === true) {\r\n        if (validTitle(this.newTimelineTitle)) {\r\n          this.showTitleWarning = false\r\n        }\r\n      }\r\n    },\r\n    openModal: function(type) {\r\n      this.modal = true\r\n      this.modalType = type\r\n    },\r\n    closeModal: function() {\r\n      this.modal = !this.modal\r\n    },\r\n    modalOpened: function() {\r\n      if (this.modalType === \"createTimeline\") {\r\n        document.getElementById('titleInput').focus()\r\n        this.modalTitle = \"Create\"\r\n      } else if (this.modalType === \"deleteTimeline\") {\r\n        this.modalTitle = \"Delete\"\r\n      } else if (this.modalType === \"editTitle\") {\r\n        document.getElementById('titleInput').focus()\r\n        this.modalTitle = \"Edit\"\r\n        this.newTimelineTitle = lastSelected.title\r\n      }\r\n    },\r\n    modalClosed: function() {\r\n      if (this.modalType === \"createTimeline\" || this.modalType === \"editTitle\") {\r\n        this.clearSelected()\r\n        this.newTimelineTitle = ''\r\n        this.showTitleWarning = false\r\n      }\r\n      this.modalType = ''\r\n      this.modalTitle = ''\r\n    },\r\n    rowHovered(item, index) {\r\n      hoveredRow.item = item\r\n      hoveredRow.index = index\r\n    },\r\n    openContextMenu(event) {\r\n      if (event.target.localName === \"td\") {\r\n        var contextmenu = document.getElementById('contextmenu')\r\n\r\n        contextmenu.style.display = 'inherit'\r\n        contextmenu.style.top = event.clientY + \"px\"\r\n        contextmenu.style.left = event.clientX + \"px\"\r\n\r\n        this.clearSelected()\r\n        selectRow(hoveredRow.item)\r\n\r\n        contextmenu.onmouseleave = function() {\r\n          contextmenu.style.display = \"none\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/styles/theme.scss';\r\n@import '../../assets/styles/main.scss';\r\n\r\n.register {\r\n  padding-top: 20px;\r\n  pointer-events: visibleStroke;\r\n  .btn-round {\r\n    margin-bottom: 10px;\r\n    @media screen and (max-width: 720px) {\r\n      width: 100%;\r\n      border-radius: 2px;\r\n    }\r\n  }\r\n  table {\r\n    background-color: $register-bg;\r\n    color: $text;\r\n    width: 100%;\r\n    th {\r\n      background-color: $background;\r\n      border: none;\r\n      @media only screen and (max-width: 576px) {\r\n        font-size: 2em;\r\n      }\r\n      font-size: 3em;\r\n      outline: none;\r\n    }\r\n    td {\r\n      border: none;\r\n      font-size: 1.5em;\r\n      overflow: hidden;\r\n    }\r\n    .table-select {\r\n      background-color: $select;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n#contextmenu {\r\n  display: none;\r\n  position: fixed;\r\n  background-color: $context-background;\r\n  color: $text;\r\n  box-shadow: 2px 2px 5px rgba(0,0,0,.5);\r\n  z-index: 10;\r\n  // outline: 1px solid gray;\r\n  ul {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    li {\r\n      padding: 7px 75px 7px 7px;\r\n      &:first-child {margin-top: 7px;}\r\n      &:last-child {margin-bottom: 7px;}\r\n      &:hover {\r\n        background-color: $context-hover;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/register/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',{staticClass:\"register\",attrs:{\"align-v\":\"center\"},on:{\"click\":function($event){_vm.clearSelected()}}},[_c('b-col'),_c('b-col',{attrs:{\"md\":\"11\"},on:{\"contextmenu\":function($event){$event.preventDefault();_vm.openContextMenu($event)}}},[_c('b-btn',{staticClass:\"btn-round\",staticStyle:{\"float\":\"right\"},attrs:{\"variant\":\"create\"},on:{\"click\":function($event){_vm.openModal('createTimeline')}}},[_vm._v(\"+\")]),_c('b-table',{attrs:{\"items\":_vm.timelines,\"bordered:false\":\"\",\"sort-by\":_vm.sort.by,\"sort-desc\":_vm.sort.desc,\"fields\":_vm.fields,\"fixed\":\"\"},on:{\"update:sortBy\":function($event){_vm.$set(_vm.sort, \"by\", $event)},\"update:sortDesc\":function($event){_vm.$set(_vm.sort, \"desc\", $event)},\"row-clicked\":_vm.rowClicked,\"sort-changed\":_vm.sortChanged,\"row-dblclicked\":_vm.openTimeline,\"row-hovered\":_vm.rowHovered}})],1),_c('b-col')],1),_c('div',{attrs:{\"id\":\"contextmenu\"}},[_c('ul',[_c('li',{on:{\"click\":function($event){_vm.openModal('editTitle')}}},[_vm._v(\"Edit title\")]),_c('li',{on:{\"click\":function($event){_vm.openModal('deleteTimeline')}}},[_vm._v(\"Delete\")])])]),_c('a-selection-handler',{attrs:{\"select-count\":_vm.selectCount},on:{\"del\":function($event){_vm.openModal('deleteTimeline')},\"cancel\":_vm.cancel,\"edit\":function($event){_vm.openModal('editTitle')}}}),_c('b-modal',{attrs:{\"title\":_vm.modalTitle},on:{\"shown\":_vm.modalOpened,\"hidden\":_vm.modalClosed},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[(_vm.modalType === 'createTimeline')?_c('b-col',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTimelineTitle),expression:\"newTimelineTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter title\",\"id\":\"titleInput\"},domProps:{\"value\":(_vm.newTimelineTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.createTimeline($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newTimelineTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1):(_vm.modalType === 'deleteTimeline')?_c('b-col',[_c('p',[_vm._v(\"\\n            Are you sure you wish to delete selected timelines?\\n          \")])]):(_vm.modalType === 'editTitle')?_c('b-col',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTimelineTitle),expression:\"newTimelineTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter new title\",\"id\":\"titleInput\"},domProps:{\"value\":(_vm.newTimelineTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeTitle($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newTimelineTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1):_vm._e()],1)],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-btn',{staticClass:\"float-left\",on:{\"click\":_vm.closeModal}},[_vm._v(\"CANCEL\")]),(_vm.modalType === 'createTimeline')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.createTimeline}},[_vm._v(\"CREATE\")]):(_vm.modalType === 'deleteTimeline')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.deleteTimeline}},[_vm._v(\"DELETE\")]):(_vm.modalType === 'editTitle')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.changeTitle}},[_vm._v(\"SAVE\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cddb4c26\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/register/register.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cddb4c26\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/register/register.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n  <div class=\"timeline-events\">\r\n    <div class=\"events\" id=\"container\" @mousedown=\"drag($event, 'down')\" @mousemove=\"drag($event, 'drag')\" @mouseup=\"drag($event, 'up')\">\r\n      <div id=\"slider\" :style=\"{width: sliderWidth}\">\r\n        <div class=\"event\" v-for=\"(e, index) in eventsInOrder\" :key=\"e.id\">\r\n          <div class=\"time\" v-if=\"index === 0 || index === events.length-1\">\r\n            <p>{{formatEventTime(e.EventDateTime)}}</p>\r\n          </div>\r\n          <div class=\"title\" :id=\"e.Id\" @click=\"clickedTitle($event)\">\r\n            <p>{{e.Title}}</p>\r\n          </div>\r\n          <div v-if=\"index != events.length-1\" id=\"h-line\"></div>\r\n          <div v-if=\"index === 0 || index === events.length-1\" id=\"v-line-time\" class=\"v-line\"></div>\r\n          <div v-if=\"selectedEvent.Id === e.Id\" id=\"v-line-title\" class=\"v-line\"></div>\r\n        </div>\r\n        <div class=\"info\" id=\"event-info\">\r\n          <div v-if=\"selectedEvent.Id != ''\" id=\"event-info-inner\">\r\n            <div v-if=\"isWidthLarge()\">\r\n              <h3 @click=\"openModal('editEventTitle')\" style=\"cursor: pointer;\">{{selectedTitle}}</h3>\r\n              <h4>{{selectedDate}} - {{selectedTime}}</h4>\r\n              <p>\r\n                {{selectedDescription}}\r\n              </p>\r\n              <b-btn variant=\"create\" @click=\"openEvent\">More</b-btn>\r\n              <b-btn variant=\"delete\" @click=\"openModal('deleteEvent')\" style=\"float: right;\">Delete</b-btn>\r\n            </div>\r\n            <div v-else class=\"event-info-mobile\">\r\n              <b-btn variant=\"create\" @click=\"openEvent\">More</b-btn>\r\n              <b-btn variant=\"delete\" @click=\"openModal('deleteEvent')\" style=\"float: right;\">Delete</b-btn>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-modal  v-model=\"modal\" :title=\"modalTitle\" @shown=\"modalOpened\" @hidden=\"modalClosed\" size=\"lg\">\r\n      <b-container fluid>\r\n        <b-row v-if=\"modalType === 'deleteEvent'\">\r\n          <b-col>\r\n            <p>\r\n              Are you sure you wish to delete this event?\r\n            </p>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row v-else-if=\"modalType === 'editEventTitle'\">\r\n          <b-col>\r\n            <input type=\"text\" v-model=\"newEventTitle\" @keyup.enter=\"changeEventTitle\" @keyup=\"checkTitleInput\" placeholder=\"Enter new title\" id=\"titleInput\" />\r\n            <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n      <div slot=\"modal-footer\" class=\"w-100\">\r\n        <b-btn class=\"float-left\" @click=\"closeModal\">CANCEL</b-btn>\r\n        <b-btn v-if=\"modalType === 'deleteEvent'\" class=\"float-right\" @click=\"deleteEvent\">DELETE</b-btn>\r\n        <b-btn v-else-if=\"modalType === 'editEventTitle'\" class=\"float-right\" @click=\"changeEventTitle\">SAVE</b-btn>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {formatEventTime, formatEventDate, sortEvents, validTitle} from '../../scripts/script'\r\nimport $ from 'jquery'\r\n\r\nvar drag = false\r\nvar lastPos = []\r\nvar pos = []\r\nvar difference = []\r\nvar scale = 1\r\n\r\nexport default {\r\n  name: 'aEvents',\r\n  data() {\r\n    return {\r\n      formatEventTime,\r\n      formatEventDate,\r\n      scale,\r\n      selectedEvent: {\r\n        'Id': '',\r\n        'Title': '',\r\n        'EventDateTime': '',\r\n        'Description': '',\r\n        'IsDeleted': '',\r\n        'Location': '',\r\n        'LinkedTimelineEventIds': [],\r\n        'Attachments': []\r\n      },\r\n      modal: false,\r\n      modalTitle: '',\r\n      newEventTitle: '',\r\n      showTitleWarning: false,\r\n      modalType: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    var slider = document.getElementById(\"slider\")\r\n    // slider.style.width = this.sliderWidth()\r\n    require('mouse-wheel')((dx, dy, dz, ev) => {\r\n      if (this.isWidthLarge()) {\r\n        if (ev.ctrlKey) {\r\n          ev.preventDefault()\r\n          if (dy > 0 && this.scale > .2) {\r\n            this.scale -= .1\r\n          }\r\n          if (dy < 1.2) {\r\n            this.scale += .1\r\n          }\r\n          slider.style.transform = \"scale(\"+this.scale+\")\"\r\n        }\r\n      }\r\n    })\r\n\r\n    var self = this\r\n\r\n    $(window).resize(function() {\r\n      self.clearSelected()\r\n    })\r\n  },\r\n  computed: {\r\n    sliderWidth() {\r\n      // if (this.isWidthLarge()) {\r\n      return 375 * this.events.length + \"px\"\r\n      // }\r\n    },\r\n    eventsInOrder() {\r\n      return sortEvents(this.events)\r\n    },\r\n    selectedTitle() {\r\n      if (this.selectedEvent.Title != null)\r\n        return this.selectedEvent.Title\r\n      return \"\"\r\n    },\r\n    selectedTime() {\r\n      if (this.selectedEvent.EventDateTime != null)\r\n        return formatEventTime(this.selectedEvent.EventDateTime)\r\n      return \"\"\r\n    },\r\n    selectedDate() {\r\n      if (this.selectedEvent.EventDateTime != null)\r\n        return formatEventDate(this.selectedEvent.EventDateTime)\r\n      return \"\"\r\n    },\r\n    selectedDescription() {\r\n      if (this.selectedEvent.Description != null) {\r\n        var s = this.selectedEvent.Description\r\n        if (s.length > 90) {\r\n          s = s.substr(0,90) + '...'\r\n        }\r\n        return s\r\n      }\r\n      return \"\"\r\n    }\r\n  },\r\n  props: {\r\n    events: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    drag: function(event, type) {\r\n      if (type === \"down\") {\r\n        drag = true\r\n        lastPos = [event.clientX, event.clientY]\r\n      }\r\n      if (type === \"up\") {\r\n        drag = false\r\n      }\r\n      if (type === \"drag\" && drag) {\r\n        pos = [event.clientX, event.clientY]\r\n        difference = [ (pos[0]-lastPos[0]), (pos[1]-lastPos[1])]\r\n        event.srcElement.scrollLeft = event.srcElement.scrollLeft - (difference[0]/10)\r\n      }\r\n    },\r\n    clickedTitle: function(event) {\r\n      if (event.srcElement.classList.contains(\"selected\")) {\r\n        this.clearSelected()\r\n        return\r\n      }\r\n      this.clearSelected()\r\n      event.srcElement.classList.add(\"selected\")\r\n      this.selectedEvent = this.getEventFromId(event.srcElement.id)\r\n\r\n      var info = document.getElementById(\"event-info\")\r\n      if (this.isWidthLarge()) {\r\n        var eventX = event.target.offsetLeft\r\n        info.style.left = eventX + \"px\"\r\n        info.style.top = ''\r\n      } else {\r\n        var eventY = event.target.offsetTop + 18\r\n        // var x = window.outerWidth - 200\r\n        var x = event.target.offsetLeft + $(\".event\").width() - 200\r\n        info.style.top = eventY + \"px\"\r\n        info.style.left = x + \"px\"\r\n      }\r\n\r\n\r\n    },\r\n    clearSelected: function() {\r\n      var selected = document.getElementsByClassName(\"selected\")\r\n      for (var i = selected.length-1; i >= 0; i--) {\r\n        selected[0].classList.remove(\"selected\")\r\n      }\r\n      this.selectedEvent = {\r\n        'Id': '',\r\n        'Title': '',\r\n        'EventDateTime': '',\r\n        'Description': '',\r\n        'IsDeleted': '',\r\n        'Location': '',\r\n        'LinkedTimelineEventIds': [],\r\n        'Attachments': []\r\n      }\r\n    },\r\n    getEventFromId: function(id) {\r\n      return this.events.filter(event => event.Id === id)[0]\r\n    },\r\n    editEventTitle: function() {\r\n\r\n    },\r\n    openEvent: function() {\r\n      this.$store.commit('setCurrentEvent', this.selectedEvent)\r\n      this.$router.push({name: 'EVENT'})\r\n    },\r\n    deleteEvent: function() {\r\n      this.closeModal()\r\n      this.$store.dispatch('deleteEvent', this.selectedEvent.Id)\r\n      this.clearSelected()\r\n    },\r\n    dateFromDateTime(dateTime) {\r\n      return dateTime.substr(0,10)\r\n    },\r\n    timeFromDateTime(dateTime) {\r\n      return dateTime.substr(11,16)\r\n    },\r\n    openModal(type) {\r\n      this.modal = true\r\n      this.modalType = type\r\n    },\r\n    closeModal() {\r\n      this.modal = !this.modal\r\n    },\r\n    modalOpened() {\r\n      if (this.modalType === \"deleteEvent\") {\r\n        this.modalTitle = \"Delete\"\r\n      } else if (this.modalType === \"editEventTitle\") {\r\n        document.getElementById('titleInput').focus()\r\n        this.modalTitle = \"Edit\"\r\n        this.newEventTitle = this.selectedEvent.Title\r\n      }\r\n    },\r\n    modalClosed() {\r\n      if (this.modalType === \"editEventTitle\") {\r\n        this.newEventTitle = ''\r\n        this.showTitleWarning = false\r\n      }\r\n      this.modalType = ''\r\n      this.modalTitle = ''\r\n    },\r\n    /* Called when a key is pressed on the create modal input. */\r\n    checkTitleInput: function() {\r\n      /*\r\n        If the user has tried to create a timeline that has less than 5 characters\r\n        then the warning gets shown.\r\n        This automatically hides the warning once they have entered at least 5 characters.\r\n      */\r\n      if (this.showTitleWarning === true) {\r\n        if (validTitle(this.newEventTitle)) {\r\n          this.showTitleWarning = false\r\n        }\r\n      }\r\n    },\r\n    changeEventTitle() {\r\n      if (!validTitle(this.newEventTitle)) {\r\n        document.getElementById('titleInput').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      var payload = {\r\n        id: this.selectedEvent.Id,\r\n        title: this.newEventTitle\r\n      }\r\n      this.$store.dispatch('changeEventTitle', payload)\r\n    },\r\n    isWidthLarge() {\r\n      var width = window.outerWidth\r\n      return width > 992\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/styles/theme.scss';\r\n@import '../../assets/styles/main.scss';\r\n\r\n$width-large: 992px;\r\n\r\n.timeline-events {\r\n  width: 100%;  \r\n  .events {\r\n    overflow: hidden;\r\n    height: 500px;\r\n    cursor: pointer;\r\n    width: 100vw;\r\n    height: 500px;\r\n    // box-shadow: 0 0 5px 5px rgba(0, 0, 0, .1);\r\n    padding-top: 10px;\r\n    @media screen and (max-width: $width-large) {\r\n      height: auto;\r\n      width: 100%;\r\n      margin: auto;\r\n    }\r\n    #slider {\r\n      position: relative;\r\n      top: 0;\r\n      left: 0;\r\n      transform-origin: 0 0;\r\n      pointer-events: none;\r\n      @media screen and (max-width: $width-large) {\r\n        transform: scale(1) !important;\r\n        width: 100% !important;\r\n      }\r\n    }\r\n    #h-line {\r\n      width: 75px;\r\n      border-bottom: 1px solid black;\r\n      position: relative;\r\n      top: -35px;\r\n      right: -300px;\r\n      @media screen and (max-width: $width-large) {\r\n        display: none;\r\n      }\r\n    }\r\n    .v-line {\r\n      height: 50px;\r\n      border-left: 1px solid black;\r\n      &#v-line-title {\r\n        position: relative;\r\n        left: 150px;\r\n      }\r\n      &#v-line-time {\r\n        position: absolute;\r\n        margin-left: 150px;\r\n        margin-top: -120px;\r\n      }\r\n      @media screen and (max-width: $width-large) {\r\n        display: none;\r\n      }\r\n    }\r\n    .event {\r\n      margin-left: 37.5px;\r\n      margin-right: 37.5px;\r\n      display: inline-block;\r\n      text-align: center;\r\n      cursor: default;\r\n      pointer-events: all;\r\n      @media screen and (max-width: $width-large) {\r\n        width: 100%;\r\n        margin: 0;\r\n        text-align: left;\r\n        padding-top: 1px;\r\n      }\r\n      p {\r\n        position: relative;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        pointer-events: none;\r\n        @media screen and (max-width: $width-large) {\r\n          padding-left: 20px;\r\n        }\r\n      }\r\n      .time {\r\n        background-color: $text;\r\n        color: white;\r\n        width: 200px;\r\n        height: 70px;\r\n        margin: auto;\r\n        transform: skewX(-10deg);\r\n        @media screen and (max-width: $width-large) {\r\n          display: none;\r\n          background-color: red;\r\n        }\r\n      }\r\n      .title {\r\n        background-color: white;\r\n        margin-top: 50px;\r\n        position: relative;\r\n        top: 50%;\r\n        width: 300px;\r\n        height: 70px;\r\n        &.selected {\r\n          background-color: $select;\r\n          color: white;\r\n        }\r\n        @media screen and (max-width: $width-large) {\r\n          width: 100%;\r\n          margin-top: 0;\r\n        }\r\n      }\r\n    }\r\n    .info {\r\n      position: absolute;\r\n      pointer-events: all;\r\n      cursor: default;\r\n    }\r\n    .info #event-info-inner{\r\n      background-color: white;\r\n      box-shadow: 0 16px 16px rgba(0, 0, 0, .16);\r\n      width: 300px;\r\n      max-height: 200px;\r\n      padding: 10px;\r\n      h3 {\r\n        // overflow: hidden;\r\n        white-space: nowrap;\r\n      }\r\n      overflow: hidden;\r\n      .icon {\r\n        cursor: pointer;\r\n      }\r\n\r\n      @media screen and (max-width: $width-large) {\r\n        width: 198px;\r\n        padding: 0;\r\n        background-color: inherit;\r\n        box-shadow: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/timeline/timeline-events.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timeline-events\"},[_c('div',{staticClass:\"events\",attrs:{\"id\":\"container\"},on:{\"mousedown\":function($event){_vm.drag($event, 'down')},\"mousemove\":function($event){_vm.drag($event, 'drag')},\"mouseup\":function($event){_vm.drag($event, 'up')}}},[_c('div',{style:({width: _vm.sliderWidth}),attrs:{\"id\":\"slider\"}},[_vm._l((_vm.eventsInOrder),function(e,index){return _c('div',{key:e.id,staticClass:\"event\"},[(index === 0 || index === _vm.events.length-1)?_c('div',{staticClass:\"time\"},[_c('p',[_vm._v(_vm._s(_vm.formatEventTime(e.EventDateTime)))])]):_vm._e(),_c('div',{staticClass:\"title\",attrs:{\"id\":e.Id},on:{\"click\":function($event){_vm.clickedTitle($event)}}},[_c('p',[_vm._v(_vm._s(e.Title))])]),(index != _vm.events.length-1)?_c('div',{attrs:{\"id\":\"h-line\"}}):_vm._e(),(index === 0 || index === _vm.events.length-1)?_c('div',{staticClass:\"v-line\",attrs:{\"id\":\"v-line-time\"}}):_vm._e(),(_vm.selectedEvent.Id === e.Id)?_c('div',{staticClass:\"v-line\",attrs:{\"id\":\"v-line-title\"}}):_vm._e()])}),_c('div',{staticClass:\"info\",attrs:{\"id\":\"event-info\"}},[(_vm.selectedEvent.Id != '')?_c('div',{attrs:{\"id\":\"event-info-inner\"}},[(_vm.isWidthLarge())?_c('div',[_c('h3',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.openModal('editEventTitle')}}},[_vm._v(_vm._s(_vm.selectedTitle))]),_c('h4',[_vm._v(_vm._s(_vm.selectedDate)+\" - \"+_vm._s(_vm.selectedTime))]),_c('p',[_vm._v(\"\\n              \"+_vm._s(_vm.selectedDescription)+\"\\n            \")]),_c('b-btn',{attrs:{\"variant\":\"create\"},on:{\"click\":_vm.openEvent}},[_vm._v(\"More\")]),_c('b-btn',{staticStyle:{\"float\":\"right\"},attrs:{\"variant\":\"delete\"},on:{\"click\":function($event){_vm.openModal('deleteEvent')}}},[_vm._v(\"Delete\")])],1):_c('div',{staticClass:\"event-info-mobile\"},[_c('b-btn',{attrs:{\"variant\":\"create\"},on:{\"click\":_vm.openEvent}},[_vm._v(\"More\")]),_c('b-btn',{staticStyle:{\"float\":\"right\"},attrs:{\"variant\":\"delete\"},on:{\"click\":function($event){_vm.openModal('deleteEvent')}}},[_vm._v(\"Delete\")])],1)]):_vm._e()])],2)]),_c('b-modal',{attrs:{\"title\":_vm.modalTitle,\"size\":\"lg\"},on:{\"shown\":_vm.modalOpened,\"hidden\":_vm.modalClosed},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('b-container',{attrs:{\"fluid\":\"\"}},[(_vm.modalType === 'deleteEvent')?_c('b-row',[_c('b-col',[_c('p',[_vm._v(\"\\n            Are you sure you wish to delete this event?\\n          \")])])],1):(_vm.modalType === 'editEventTitle')?_c('b-row',[_c('b-col',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEventTitle),expression:\"newEventTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter new title\",\"id\":\"titleInput\"},domProps:{\"value\":(_vm.newEventTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeEventTitle($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newEventTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1)],1):_vm._e()],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-btn',{staticClass:\"float-left\",on:{\"click\":_vm.closeModal}},[_vm._v(\"CANCEL\")]),(_vm.modalType === 'deleteEvent')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.deleteEvent}},[_vm._v(\"DELETE\")]):(_vm.modalType === 'editEventTitle')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.changeEventTitle}},[_vm._v(\"SAVE\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-274df9e4\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/timeline/timeline-events.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./timeline-events.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timeline-events.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timeline-events.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-274df9e4\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./timeline-events.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/timeline/timeline-events.vue\n// module id = null\n// module chunks = ","<template >\r\n  <div>\r\n    <div v-if=\"timeline != null\">\r\n      <div class=\"timeline\">\r\n        <b-row class=\"head\" align-v=\"start\">\r\n          <b-col sm=\"12\" lg=\"2\" class=\"timeline-buttons\">\r\n            <b-btn variant=\"select\" @click=\"back\" id=\"timeline-back-button\">Back</b-btn>\r\n          </b-col>\r\n          <b-col sm=\"12\" lg=\"6\" class=\"timeline-details\">\r\n            <h1 v-on:click=\"openModal('editTimelineTitle')\" style=\"cursor: pointer;\">{{title}}</h1>\r\n            <h3>{{date}}</h3>\r\n          </b-col>\r\n          <b-col sm=\"6\" lg=\"2\" class=\"timeline-buttons\">\r\n            <b-btn variant=\"delete\" @click=\"openModal('deleteTimeline')\" id=\"timeline-delete-button\">Delete timeline</b-btn>\r\n          </b-col>\r\n          <b-col sm=\"6\" lg=\"2\" class=\"timeline-buttons\" id=\"timeline-create-div\">\r\n            <b-btn variant=\"create\" @click=\"openModal('createEvent')\" style=\"float: right;\" id=\"timeline-create-button\">Create new event</b-btn>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row align-v=\"center\">\r\n          <a-events ref=\"events\" :events=\"events\"></a-events>\r\n        </b-row>\r\n      </div>\r\n      <b-modal  v-model=\"modal\" :title=\"modalTitle\" @shown=\"modalOpened\" @hidden=\"modalClosed\" size=\"lg\" id=\"timeline-modal\">\r\n        <b-container fluid>\r\n          <b-row v-if=\"modalType === 'createEvent'\">\r\n            <b-col md=\"6\" class=\"modal-half\">\r\n              <b-row>\r\n                <input type=\"text\" v-model=\"newEventTitle\" @keyup.enter=\"createEvent\" @keyup=\"checkTitleInput\" placeholder=\"Enter title\" id=\"title-input\"/>\r\n                <b-alert variant=\"danger\" :show=\"showTitleWarning\" id=\"title-alert\">Title must be at least 5 characters long</b-alert>\r\n              </b-row>\r\n              <b-row>\r\n                <b-form-textarea id=\"description-input\" v-model=\"newEventDescription\" placeholder=\"Enter description\" :rows=\"8\" no-resize/>\r\n              </b-row>\r\n            </b-col>\r\n            <b-col md=\"6\" class=\"modal-half\">\r\n              <b-row id=\"checkBoxCol\">\r\n                <b-form-checkbox id=\"exactDateTime\" v-model=\"exactDateTime\">Exact date and time</b-form-checkbox>\r\n              </b-row>\r\n              <b-row v-if=\"!exactDateTime\">\r\n                <b-form-select v-model=\"beforeAfterSelect\" :options=\"beforeAfterOptions\" class=\"mb-3\" id=\"beforeAfterSelect\" @change=\"checkInput('beforeAfterSelect')\"/>\r\n                <b-form-select v-model=\"eventSelect\" :options=\"eventOptions\" class=\"mb-3\" id=\"eventSelect\" @change=\"checkInput('eventSelect')\"/>\r\n              </b-row>\r\n              <b-row v-if=\"exactDateTime\">\r\n                <input type=\"datetime-local\" v-model=\"newEventDateTime\" id=\"newEventDateTime\" @change=\"checkInput('newEventDateTime')\"/>\r\n              </b-row>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row v-else-if=\"modalType === 'deleteTimeline'\">\r\n            <b-col>\r\n              <p>\r\n                Are you sure you wish to delete this timeline?\r\n              </p>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row v-else-if=\"modalType === 'editTimelineTitle'\">\r\n            <b-col>\r\n              <input type=\"text\" v-model=\"newTimelineTitle\" @keyup.enter=\"changeTimelineTitle\" @keyup=\"checkTitleInput\" placeholder=\"Enter new title\" id=\"title-input\" />\r\n              <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n            </b-col>\r\n          </b-row>\r\n        </b-container>\r\n        <div slot=\"modal-footer\" class=\"w-100\">\r\n          <b-btn class=\"float-left\" @click=\"closeModal\">CANCEL</b-btn>\r\n          <b-btn v-if=\"modalType === 'createEvent'\" class=\"float-right\" @click=\"createEvent\">CREATE</b-btn>\r\n          <b-btn v-else-if=\"modalType === 'deleteTimeline'\" class=\"float-right\" @click=\"deleteTimeline\">DELETE</b-btn>\r\n          <b-btn v-else-if=\"modalType === 'editTimelineTitle'\" class=\"float-right\" @click=\"changeTimelineTitle\">SAVE</b-btn>\r\n        </div>\r\n      </b-modal>\r\n    </div>\r\n    <div v-else>\r\n      <h2>\r\n        No timeline selected. Click <router-link to=\"/\">here</router-link> to return to timeline register.\r\n      </h2>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {formatDate, validTitle} from '../../scripts/script'\r\nimport aEvents from './timeline-events'\r\n\r\nexport default {\r\n  name: 'aTimeline',\r\n  data() {\r\n    return {\r\n      modal: false,\r\n      modalTitle: '',\r\n      newEventTitle: '',\r\n      showTitleWarning: false,\r\n      modalType: '',\r\n      exactDateTime: false,\r\n      newEventDescription: '',\r\n      beforeAfterSelect: null,\r\n      beforeAfterOptions: [\r\n        { value: null, text: 'Before/After', disabled: true},\r\n        { value: 'before', text: 'Before'},\r\n        { value: 'after', text: 'After'}\r\n      ],\r\n      eventSelect: null,\r\n      newEventDateTime: null,\r\n      newTimelineTitle: ''\r\n    }\r\n  },\r\n  components: {\r\n    aEvents\r\n  },\r\n  computed: {\r\n    timeline() {\r\n      return this.$store.state.currentTimeline\r\n    },\r\n    title() {\r\n      return this.timeline.title\r\n    },\r\n    date() {\r\n      return formatDate(this.timeline.date)\r\n    },\r\n    events() {\r\n      return this.timeline.timelineEvents || []\r\n    },\r\n    eventOptions() {\r\n      var options = [\r\n        { value: null, text: 'Select an event', disabled : true}\r\n      ]\r\n      for (var i = 0; i < this.events.length; i++) {\r\n        var option = {\r\n          value: this.events[i].Id,\r\n          text: this.events[i].Title\r\n        }\r\n        options.push(option)\r\n      }\r\n      return options\r\n    },\r\n    startTime() {\r\n      return this.timeFromDateTime(this.events[0].EventDateTime)\r\n    },\r\n    endTime() {\r\n      return this.timeFromDateTime(this.events[this.events.length-1].EventDateTime)\r\n    }\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$router.push({name: 'REGISTER'})\r\n    },\r\n    timeFromDateTime(dateTime) {\r\n      return dateTime.substring(11, 16)\r\n    },\r\n    deleteTimeline() {\r\n      this.closeModal()\r\n      this.$store.dispatch('deleteTimeline', this.timeline.id)\r\n      // this.$store.commit('clearCurrentTimeline')\r\n      this.back()\r\n    },\r\n    openModal(type) {\r\n      this.modal = true\r\n      this.modalType = type\r\n    },\r\n    closeModal() {\r\n      this.modal = !this.modal\r\n    },\r\n    modalOpened() {\r\n      if (this.modalType === \"createEvent\") {\r\n        document.getElementById('title-input').focus()\r\n        this.modalTitle = \"Create\"\r\n      } else if (this.modalType === \"deleteTimeline\") {\r\n        this.modalTitle = \"Delete\"\r\n      } else if (this.modalType === \"editTimelineTitle\") {\r\n        document.getElementById('title-input').focus()\r\n        this.modalTitle = \"Edit\"\r\n        this.newTimelineTitle = this.title\r\n      }\r\n    },\r\n    modalClosed() {\r\n      if (this.modalType === \"createEvent\") {\r\n        this.newEventTitle = ''\r\n        this.newEventDescription = ''\r\n        this.exactDateTime = false\r\n        this.showTitleWarning = false\r\n        this.beforeAfterSelect = null\r\n        this.eventSelect = null\r\n        this.newEventDateTime = null\r\n        this.$refs.events.clearSelected()\r\n      } else if (this.modalType === \"editTimelineTitle\") {\r\n        this.newTimelineTitle = ''\r\n        this.showTitleWarning = false\r\n      }\r\n      this.modalType = ''\r\n      this.modalTitle = ''\r\n    },\r\n    createEvent() {\r\n      if (!validTitle(this.newEventTitle)) {\r\n        document.getElementById('title-input').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      if (!this.exactDateTime) {\r\n        if(this.beforeAfterSelect === null) {\r\n          var select = document.getElementById(\"beforeAfterSelect\")\r\n          select.focus()\r\n          select.style.border = \"1px solid red\"\r\n          return\r\n        }\r\n        if(this.eventSelect === null) {\r\n          var eselect = document.getElementById(\"eventSelect\")\r\n          eselect.focus()\r\n          eselect.style.border = \"1px solid red\"\r\n          return\r\n        }\r\n      } else {\r\n        if (this.newEventDateTime === null) {\r\n          var datetime = document.getElementById(\"newEventDateTime\")\r\n          datetime.focus()\r\n          datetime.style.border = \"1px solid red\"\r\n          return\r\n        }\r\n      }\r\n      this.closeModal()\r\n      var payload = {\r\n        title: this.newEventTitle,\r\n        description: this.newEventDescription\r\n      }\r\n\r\n      if (!this.exactDateTime) {\r\n        payload.beforeAfter = this.beforeAfterSelect\r\n        payload.eventId = this.eventSelect\r\n        payload.dateTime = this.events.filter(event => event.Id === this.eventSelect)[0].EventDateTime\r\n        // if (payload.dateTime.slice(-2) !== 'BA')\r\n        //   payload.dateTime = payload.dateTime + 'BA'\r\n        this.$store.dispatch('createEventBA', payload)\r\n      } else {\r\n        payload.dateTime = this.newEventDateTime\r\n        this.$store.dispatch('createEventExact', payload)\r\n      }\r\n    },\r\n    /* Called when a key is pressed on the create modal input. */\r\n    checkTitleInput: function() {\r\n      /*\r\n        If the user has tried to create a timeline that has less than 5 characters\r\n        then the warning gets shown.\r\n        This automatically hides the warning once they have entered at least 5 characters.\r\n      */\r\n      if (this.showTitleWarning === true) {\r\n        if (validTitle(this.newEventTitle)) {\r\n          this.showTitleWarning = false\r\n        }\r\n      }\r\n    },\r\n    checkInput(id) {\r\n      var el = document.getElementById(id)\r\n      if (el.style.border === \"1px solid red\") {\r\n        el.style.border = \"\"\r\n      }\r\n    },\r\n    changeTimelineTitle() {\r\n      if (!validTitle(this.newTimelineTitle)) {\r\n        document.getElementById('title-input').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      var payload = {\r\n        id: this.timeline.id,\r\n        title: this.newTimelineTitle\r\n      }\r\n      this.$store.dispatch('changeTimelineTitle', payload)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/styles/theme.scss';\r\n@import '../../assets/styles/main.scss';\r\n\r\n.timeline {\r\n  padding-top: 20px;\r\n  @media screen and (max-width: 720px) {\r\n    .timeline-buttons {\r\n      &:nth-child(n+2) {margin-top: 10px;}\r\n    }\r\n    .timeline-details {overflow: auto;}\r\n  }\r\n  @media screen and (min-width: 720px) {\r\n    .timeline-details {overflow: hidden;}\r\n  }\r\n  .timeline-buttons button {width: 100%;}\r\n  .timeline-details {\r\n    h1, h3 {\r\n      // font-size: 2.5em;\r\n      display:inline;\r\n      &:last-child {\r\n        &::before{\r\n          content: ' - '\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n#timeline-modal {\r\n  #title-input {\r\n    background-color: white;\r\n    border-bottom: 2px solid #EEEEEE;\r\n  }\r\n  #title-alert {\r\n    width: 100%;\r\n  }\r\n  #description-input {\r\n    margin-top: 20px;\r\n    border: 1px solid #38474E;\r\n  }\r\n  .modal-half {padding: 30px;}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/timeline/timeline.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.timeline != null)?_c('div',[_c('div',{staticClass:\"timeline\"},[_c('b-row',{staticClass:\"head\",attrs:{\"align-v\":\"start\"}},[_c('b-col',{staticClass:\"timeline-buttons\",attrs:{\"sm\":\"12\",\"lg\":\"2\"}},[_c('b-btn',{attrs:{\"variant\":\"select\",\"id\":\"timeline-back-button\"},on:{\"click\":_vm.back}},[_vm._v(\"Back\")])],1),_c('b-col',{staticClass:\"timeline-details\",attrs:{\"sm\":\"12\",\"lg\":\"6\"}},[_c('h1',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.openModal('editTimelineTitle')}}},[_vm._v(_vm._s(_vm.title))]),_c('h3',[_vm._v(_vm._s(_vm.date))])]),_c('b-col',{staticClass:\"timeline-buttons\",attrs:{\"sm\":\"6\",\"lg\":\"2\"}},[_c('b-btn',{attrs:{\"variant\":\"delete\",\"id\":\"timeline-delete-button\"},on:{\"click\":function($event){_vm.openModal('deleteTimeline')}}},[_vm._v(\"Delete timeline\")])],1),_c('b-col',{staticClass:\"timeline-buttons\",attrs:{\"sm\":\"6\",\"lg\":\"2\",\"id\":\"timeline-create-div\"}},[_c('b-btn',{staticStyle:{\"float\":\"right\"},attrs:{\"variant\":\"create\",\"id\":\"timeline-create-button\"},on:{\"click\":function($event){_vm.openModal('createEvent')}}},[_vm._v(\"Create new event\")])],1)],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('a-events',{ref:\"events\",attrs:{\"events\":_vm.events}})],1)],1),_c('b-modal',{attrs:{\"title\":_vm.modalTitle,\"size\":\"lg\",\"id\":\"timeline-modal\"},on:{\"shown\":_vm.modalOpened,\"hidden\":_vm.modalClosed},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('b-container',{attrs:{\"fluid\":\"\"}},[(_vm.modalType === 'createEvent')?_c('b-row',[_c('b-col',{staticClass:\"modal-half\",attrs:{\"md\":\"6\"}},[_c('b-row',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEventTitle),expression:\"newEventTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter title\",\"id\":\"title-input\"},domProps:{\"value\":(_vm.newEventTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.createEvent($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newEventTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning,\"id\":\"title-alert\"}},[_vm._v(\"Title must be at least 5 characters long\")])],1),_c('b-row',[_c('b-form-textarea',{attrs:{\"id\":\"description-input\",\"placeholder\":\"Enter description\",\"rows\":8,\"no-resize\":\"\"},model:{value:(_vm.newEventDescription),callback:function ($$v) {_vm.newEventDescription=$$v},expression:\"newEventDescription\"}})],1)],1),_c('b-col',{staticClass:\"modal-half\",attrs:{\"md\":\"6\"}},[_c('b-row',{attrs:{\"id\":\"checkBoxCol\"}},[_c('b-form-checkbox',{attrs:{\"id\":\"exactDateTime\"},model:{value:(_vm.exactDateTime),callback:function ($$v) {_vm.exactDateTime=$$v},expression:\"exactDateTime\"}},[_vm._v(\"Exact date and time\")])],1),(!_vm.exactDateTime)?_c('b-row',[_c('b-form-select',{staticClass:\"mb-3\",attrs:{\"options\":_vm.beforeAfterOptions,\"id\":\"beforeAfterSelect\"},on:{\"change\":function($event){_vm.checkInput('beforeAfterSelect')}},model:{value:(_vm.beforeAfterSelect),callback:function ($$v) {_vm.beforeAfterSelect=$$v},expression:\"beforeAfterSelect\"}}),_c('b-form-select',{staticClass:\"mb-3\",attrs:{\"options\":_vm.eventOptions,\"id\":\"eventSelect\"},on:{\"change\":function($event){_vm.checkInput('eventSelect')}},model:{value:(_vm.eventSelect),callback:function ($$v) {_vm.eventSelect=$$v},expression:\"eventSelect\"}})],1):_vm._e(),(_vm.exactDateTime)?_c('b-row',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEventDateTime),expression:\"newEventDateTime\"}],attrs:{\"type\":\"datetime-local\",\"id\":\"newEventDateTime\"},domProps:{\"value\":(_vm.newEventDateTime)},on:{\"change\":function($event){_vm.checkInput('newEventDateTime')},\"input\":function($event){if($event.target.composing){ return; }_vm.newEventDateTime=$event.target.value}}})]):_vm._e()],1)],1):(_vm.modalType === 'deleteTimeline')?_c('b-row',[_c('b-col',[_c('p',[_vm._v(\"\\n              Are you sure you wish to delete this timeline?\\n            \")])])],1):(_vm.modalType === 'editTimelineTitle')?_c('b-row',[_c('b-col',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTimelineTitle),expression:\"newTimelineTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter new title\",\"id\":\"title-input\"},domProps:{\"value\":(_vm.newTimelineTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeTimelineTitle($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newTimelineTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1)],1):_vm._e()],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-btn',{staticClass:\"float-left\",on:{\"click\":_vm.closeModal}},[_vm._v(\"CANCEL\")]),(_vm.modalType === 'createEvent')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.createEvent}},[_vm._v(\"CREATE\")]):(_vm.modalType === 'deleteTimeline')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.deleteTimeline}},[_vm._v(\"DELETE\")]):(_vm.modalType === 'editTimelineTitle')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.changeTimelineTitle}},[_vm._v(\"SAVE\")]):_vm._e()],1)],1)],1):_c('div',[_c('h2',[_vm._v(\"\\n      No timeline selected. Click \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"here\")]),_vm._v(\" to return to timeline register.\\n    \")],1)])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3613f4a0\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/timeline/timeline.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./timeline.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timeline.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timeline.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3613f4a0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./timeline.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/timeline/timeline.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n  <div>\r\n    <div v-if=\"event != null\">\r\n      <b-row>\r\n        <b-col md=\"10\" offset-md=\"1\" class=\"event-page\" id=\"event-page\">\r\n          <b-row class=\"event-head\" align-v=\"start\">\r\n            <b-col sm=\"12\" lg=\"2\" class=\"event-buttons\">\r\n              <b-btn variant=\"select\" @click=\"back\" id=\"event-back-button\">Back</b-btn>\r\n            </b-col>\r\n            <b-col sm=\"12\" lg=\"8\" class=\"event-details\">\r\n              <h1 @click=\"openModal('editEventTitle')\" style=\"cursor: pointer;\">{{title}}</h1>\r\n              <h3>{{date}} - {{time}}</h3>\r\n            </b-col>\r\n            <b-col sm=\"12\" lg=\"2\" class=\"event-buttons\">\r\n              <b-btn variant=\"delete\" @click=\"openModal('deleteEvent')\" id=\"event-delete-button\">Delete event</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row class=\"event-main\" align-v=\"center\">\r\n            <b-col sm=\"12\">\r\n              <b-row>\r\n                <b-col sm=\"12\" class=\"description\">\r\n                  <h1>Description</h1>\r\n                  <span id=\"controls\">\r\n                    <b-btn id=\"cancel-description\" variant=\"cancel-edit\" v-if=\"description !== newEventDescription\" @click=\"cancelDescription\">Cancel</b-btn>\r\n                    <b-btn id=\"save-description\" variant=\"save\" v-if=\"description !== newEventDescription\" @click=\"saveDescription\">Save</b-btn>\r\n                  </span>\r\n                  <b-form-textarea id=\"event-description\" placeholder=\"Enter description\" v-model=\"newEventDescription\" style=\"cursor: pointer;\" no-resize/>\r\n                </b-col>\r\n              </b-row>\r\n              <b-row>\r\n                <b-col sm=\"12\" md=\"6\" class=\"attachments\">\r\n                  <h1>Attachments</h1>\r\n                  <ul id=\"attachment-list\">\r\n                    <li v-for=\"attachment in attachments\" :key=\"attachment.Id\" @click=\"clickedAttachment($event)\">\r\n                      <span :id=\"attachment.Id\">{{attachment.Title}}</span>\r\n                    </li>\r\n                  </ul>\r\n                  <span id=\"controls\">\r\n                    <b-btn id=\"delete-attachment\" variant=\"delete\" @click=\"openModal('deleteAttachment')\" :disabled=\"selectedAttachmentId === ''\">Delete</b-btn>\r\n                    <b-btn id=\"create-attachment\" variant=\"create\" @click=\"openModal('createAttachment')\">Create</b-btn>\r\n                  </span>\r\n                </b-col>\r\n              </b-row>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n      <b-modal  v-model=\"modal\" :title=\"modalTitle\" @shown=\"modalOpened\" @hidden=\"modalClosed\" size=\"lg\" id=\"timeline-modal\">\r\n        <b-container fluid>\r\n          <b-row v-if=\"modalType === 'editEventTitle'\">\r\n            <b-col>\r\n              <input type=\"text\" v-model=\"newEventTitle\" @keyup.enter=\"changeEventTitle\" @keyup=\"checkTitleInput\" placeholder=\"Enter new title\" id=\"title-input\" />\r\n              <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row v-else-if=\"modalType === 'createAttachment'\">\r\n            <input type=\"text\" v-model=\"newAttachmentTitle\" @keyup.enter=\"createAttachment\" @keyup=\"checkTitleInput\" placeholder=\"Enter attachment title\" id=\"title-input\" />\r\n            <b-alert variant=\"danger\" :show=\"showTitleWarning\">Title must be at least 5 characters long</b-alert>\r\n          </b-row>\r\n          <b-row v-else-if=\"modalType === 'deleteAttachment'\">\r\n            <b-col>\r\n              <p>\r\n                Are you sure you wish to delete this attachment?\r\n              </p>\r\n            </b-col>\r\n          </b-row>\r\n        </b-container>\r\n        <div slot=\"modal-footer\" class=\"w-100\">\r\n          <b-btn class=\"float-left\" @click=\"closeModal\">CANCEL</b-btn>\r\n          <b-btn v-if=\"modalType === 'editEventTitle'\" class=\"float-right\" @click=\"changeEventTitle\">SAVE</b-btn>\r\n          <b-btn v-else-if=\"modalType === 'createAttachment'\" class=\"float-right\" @click=\"createAttachment\">Create</b-btn>\r\n          <b-btn v-else-if=\"modalType === 'deleteAttachment'\" class=\"float-right\" @click=\"deleteAttachment\">Delete</b-btn>\r\n        </div>\r\n      </b-modal>\r\n    </div>\r\n    <div v-else>\r\n      <div v-if=\"timeline != null\">\r\n        <h2>\r\n          No event selected. Click <router-link to=\"/timeline\">here</router-link> to return to timeline.\r\n        </h2>\r\n      </div>\r\n      <div v-else>\r\n        <h2>\r\n          No event or timeline selected. Click <router-link to=\"/\">here</router-link> to return to timeline register.\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {formatEventDate, formatEventTime, validTitle} from '../../scripts/script'\r\n\r\nexport default {\r\n  name: 'aTimeline',\r\n  data() {\r\n    return {\r\n      newEventDescription: '',\r\n      modal: false,\r\n      modalTitle: '',\r\n      showTitleWarning: false,\r\n      modalType: '',\r\n      newEventTitle: '',\r\n      newAttachmentTitle: '',\r\n      selectedAttachmentId: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.newEventDescription = this.description\r\n  },\r\n  computed: {\r\n    timeline() {\r\n      return this.$store.state.currentTimeline\r\n    },\r\n    event() {\r\n      return this.$store.state.currentEvent\r\n    },\r\n    id() {\r\n      return this.event.Id\r\n    },\r\n    title() {\r\n      return this.event.Title\r\n    },\r\n    date() {\r\n      let date = formatEventDate(this.event.EventDateTime)\r\n      if (date === 'Date not available')\r\n        return ''\r\n      return date\r\n    },\r\n    time() {\r\n      let time = formatEventTime(this.event.EventDateTime)\r\n      if (time === 'Time not available')\r\n        return ''\r\n      return time\r\n    },\r\n    description() {\r\n      return this.event.Description\r\n    },\r\n    attachments() {\r\n      return this.event.Attachments\r\n    }\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$router.push({name: 'TIMELINE'})\r\n    },\r\n    cancelDescription() {\r\n      this.newEventDescription = this.description\r\n    },\r\n    saveDescription() {\r\n      var payload = {\r\n        id: this.id,\r\n        description: this.newEventDescription\r\n      }\r\n      this.$store.dispatch('changeEventDescription', payload)\r\n    },\r\n    openModal(type) {\r\n      this.modal = true\r\n      this.modalType = type\r\n    },\r\n    closeModal() {\r\n      this.modal = !this.modal\r\n    },\r\n    modalOpened() {\r\n      if (this.modalType === \"editEventTitle\") {\r\n        document.getElementById('title-input').focus()\r\n        this.modalTitle = \"Edit\"\r\n        this.newEventTitle = this.title\r\n      } else if (this.modalType === \"createAttachment\") {\r\n        document.getElementById('title-input').focus()\r\n        this.modalTitle = \"Create\"\r\n      } else if (this.modalType === \"deleteAttachment\") {\r\n        this.modalTitle = \"Delete\"\r\n      }\r\n    },\r\n    modalClosed() {\r\n      if (this.modalType === \"editEventTitle\") {\r\n        this.newEventTitle = ''\r\n        this.showTitleWarning = false\r\n      } else if (this.modalType === \"createAttachment\") {\r\n        this.newAttachmentTitle = ''\r\n        this.showTitleWarning = false\r\n      }\r\n      this.modalType = ''\r\n      this.modalTitle = ''\r\n    },\r\n    /* Called when a key is pressed on the create modal input. */\r\n    checkTitleInput: function() {\r\n      /*\r\n        If the user has tried to create a timeline that has less than 5 characters\r\n        then the warning gets shown.\r\n        This automatically hides the warning once they have entered at least 5 characters.\r\n      */\r\n      if (this.showTitleWarning === true) {\r\n        if (this.modalType === \"editEventTitle\") {\r\n          if (validTitle(this.newEventTitle)) {\r\n            this.showTitleWarning = false\r\n          }\r\n        } else if (this.modalType === \"createAttachment\") {\r\n          if (validTitle(this.newAttachmentTitle)) {\r\n            this.showTitleWarning = false\r\n          }\r\n        }\r\n      }\r\n    },\r\n    changeEventTitle() {\r\n      if (!validTitle(this.newEventTitle)) {\r\n        document.getElementById('title-input').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      var payload = {\r\n        id: this.id,\r\n        title: this.newEventTitle\r\n      }\r\n      this.$store.dispatch('changeEventTitle', payload)\r\n    },\r\n    createAttachment() {\r\n      if (!validTitle(this.newAttachmentTitle)) {\r\n        document.getElementById('title-input').focus()\r\n        this.showTitleWarning = true\r\n        return\r\n      }\r\n      this.closeModal()\r\n      this.$store.dispatch('createAttachment', this.newAttachmentTitle)\r\n    },\r\n    clickedAttachment(event) {\r\n      if (event.target.classList.contains(\"selected\")) {\r\n        this.clearSelected()\r\n        return\r\n      }\r\n      this.clearSelected()\r\n      event.target.classList.add(\"selected\")\r\n      this.selectedAttachmentId = event.target.children[0].id\r\n    },\r\n    clearSelected() {\r\n      var selected = document.getElementsByClassName(\"selected\")\r\n      for (var i = selected.length-1; i >= 0; i--) {\r\n        selected[0].classList.remove(\"selected\")\r\n      }\r\n      this.selectedAttachmentId = ''\r\n    },\r\n    deleteAttachment() {\r\n      this.closeModal()\r\n      this.$store.dispatch('deleteAttachment', this.selectedAttachmentId)\r\n      this.clearSelected()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/styles/theme.scss';\r\n@import '../../assets/styles/main.scss';\r\n\r\n.event-page {\r\n  background-color: $event-bg;\r\n  margin-top: 20px;\r\n  // height: stretch;\r\n  .event-head {\r\n    padding: 20px;\r\n    box-shadow: 0 3px 6px rgba(0,0,0,.16);\r\n    @media screen and (max-width: 720px) {\r\n      .event-buttons {\r\n        &:nth-child(n+2) {margin-top: 10px;}\r\n      }\r\n      .event-details {overflow: auto;}\r\n    }\r\n    @media screen and (min-width: 720px) {\r\n      .event-details {overflow: hidden;}\r\n    }\r\n    .event-buttons button {width: 100%;}\r\n    .event-details {\r\n      h1, h3 {\r\n        // font-size: 2.5em;\r\n        display:inline-block;\r\n        &:last-child {\r\n          &::before{\r\n            content: ' - '\r\n          }\r\n        }\r\n      }\r\n      i {font-size: 0.7em;}\r\n    }\r\n  }\r\n  .event-main {\r\n    padding: 20px;\r\n    h1 {display: inline;}\r\n    #controls {\r\n      @media screen and (max-width: 500px) {width: 100%;}\r\n      button {\r\n        &:not(:last-child) {margin-right: 5px;}\r\n        @media screen and (max-width: 500px) {width: 49%;}\r\n      }\r\n    }\r\n    .description {\r\n      #controls {\r\n        float: right;\r\n      }\r\n      textarea {\r\n        border: none;\r\n        overflow: auto;\r\n        -webkit-box-shadow: none;\r\n        -moz-box-shadow: none;\r\n        box-shadow: none;\r\n        &:focus {\r\n          background-color: $edit-description;\r\n          outline: 1px solid gray;\r\n        }\r\n      }\r\n    }\r\n    .attachments {\r\n      ul {\r\n        list-style-type: none;\r\n        padding: 0;\r\n        width: 65%;\r\n        @media screen and (max-width: 768px) {\r\n          width: 100%;\r\n        }\r\n        max-height: 120px;\r\n        overflow-y: auto;\r\n        li {\r\n          span {\r\n            pointer-events: none;\r\n          }\r\n          &:hover {background-color: $attachment-hover;}\r\n          &.selected {\r\n            background-color: $select;\r\n            color: white;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/event/event.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.event != null)?_c('div',[_c('b-row',[_c('b-col',{staticClass:\"event-page\",attrs:{\"md\":\"10\",\"offset-md\":\"1\",\"id\":\"event-page\"}},[_c('b-row',{staticClass:\"event-head\",attrs:{\"align-v\":\"start\"}},[_c('b-col',{staticClass:\"event-buttons\",attrs:{\"sm\":\"12\",\"lg\":\"2\"}},[_c('b-btn',{attrs:{\"variant\":\"select\",\"id\":\"event-back-button\"},on:{\"click\":_vm.back}},[_vm._v(\"Back\")])],1),_c('b-col',{staticClass:\"event-details\",attrs:{\"sm\":\"12\",\"lg\":\"8\"}},[_c('h1',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.openModal('editEventTitle')}}},[_vm._v(_vm._s(_vm.title))]),_c('h3',[_vm._v(_vm._s(_vm.date)+\" - \"+_vm._s(_vm.time))])]),_c('b-col',{staticClass:\"event-buttons\",attrs:{\"sm\":\"12\",\"lg\":\"2\"}},[_c('b-btn',{attrs:{\"variant\":\"delete\",\"id\":\"event-delete-button\"},on:{\"click\":function($event){_vm.openModal('deleteEvent')}}},[_vm._v(\"Delete event\")])],1)],1),_c('b-row',{staticClass:\"event-main\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-row',[_c('b-col',{staticClass:\"description\",attrs:{\"sm\":\"12\"}},[_c('h1',[_vm._v(\"Description\")]),_c('span',{attrs:{\"id\":\"controls\"}},[(_vm.description !== _vm.newEventDescription)?_c('b-btn',{attrs:{\"id\":\"cancel-description\",\"variant\":\"cancel-edit\"},on:{\"click\":_vm.cancelDescription}},[_vm._v(\"Cancel\")]):_vm._e(),(_vm.description !== _vm.newEventDescription)?_c('b-btn',{attrs:{\"id\":\"save-description\",\"variant\":\"save\"},on:{\"click\":_vm.saveDescription}},[_vm._v(\"Save\")]):_vm._e()],1),_c('b-form-textarea',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":\"event-description\",\"placeholder\":\"Enter description\",\"no-resize\":\"\"},model:{value:(_vm.newEventDescription),callback:function ($$v) {_vm.newEventDescription=$$v},expression:\"newEventDescription\"}})],1)],1),_c('b-row',[_c('b-col',{staticClass:\"attachments\",attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('h1',[_vm._v(\"Attachments\")]),_c('ul',{attrs:{\"id\":\"attachment-list\"}},_vm._l((_vm.attachments),function(attachment){return _c('li',{key:attachment.Id,on:{\"click\":function($event){_vm.clickedAttachment($event)}}},[_c('span',{attrs:{\"id\":attachment.Id}},[_vm._v(_vm._s(attachment.Title))])])})),_c('span',{attrs:{\"id\":\"controls\"}},[_c('b-btn',{attrs:{\"id\":\"delete-attachment\",\"variant\":\"delete\",\"disabled\":_vm.selectedAttachmentId === ''},on:{\"click\":function($event){_vm.openModal('deleteAttachment')}}},[_vm._v(\"Delete\")]),_c('b-btn',{attrs:{\"id\":\"create-attachment\",\"variant\":\"create\"},on:{\"click\":function($event){_vm.openModal('createAttachment')}}},[_vm._v(\"Create\")])],1)])],1)],1)],1)],1)],1),_c('b-modal',{attrs:{\"title\":_vm.modalTitle,\"size\":\"lg\",\"id\":\"timeline-modal\"},on:{\"shown\":_vm.modalOpened,\"hidden\":_vm.modalClosed},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('b-container',{attrs:{\"fluid\":\"\"}},[(_vm.modalType === 'editEventTitle')?_c('b-row',[_c('b-col',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEventTitle),expression:\"newEventTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter new title\",\"id\":\"title-input\"},domProps:{\"value\":(_vm.newEventTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeEventTitle($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newEventTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1)],1):(_vm.modalType === 'createAttachment')?_c('b-row',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAttachmentTitle),expression:\"newAttachmentTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter attachment title\",\"id\":\"title-input\"},domProps:{\"value\":(_vm.newAttachmentTitle)},on:{\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.createAttachment($event)},_vm.checkTitleInput],\"input\":function($event){if($event.target.composing){ return; }_vm.newAttachmentTitle=$event.target.value}}}),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":_vm.showTitleWarning}},[_vm._v(\"Title must be at least 5 characters long\")])],1):(_vm.modalType === 'deleteAttachment')?_c('b-row',[_c('b-col',[_c('p',[_vm._v(\"\\n              Are you sure you wish to delete this attachment?\\n            \")])])],1):_vm._e()],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-btn',{staticClass:\"float-left\",on:{\"click\":_vm.closeModal}},[_vm._v(\"CANCEL\")]),(_vm.modalType === 'editEventTitle')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.changeEventTitle}},[_vm._v(\"SAVE\")]):(_vm.modalType === 'createAttachment')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.createAttachment}},[_vm._v(\"Create\")]):(_vm.modalType === 'deleteAttachment')?_c('b-btn',{staticClass:\"float-right\",on:{\"click\":_vm.deleteAttachment}},[_vm._v(\"Delete\")]):_vm._e()],1)],1)],1):_c('div',[(_vm.timeline != null)?_c('div',[_c('h2',[_vm._v(\"\\n        No event selected. Click \"),_c('router-link',{attrs:{\"to\":\"/timeline\"}},[_vm._v(\"here\")]),_vm._v(\" to return to timeline.\\n      \")],1)]):_c('div',[_c('h2',[_vm._v(\"\\n        No event or timeline selected. Click \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"here\")]),_vm._v(\" to return to timeline register.\\n      \")],1)])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-656240b8\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/event/event.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./event.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./event.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\chris\\\\\\\\Desktop\\\\\\\\aileron\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./event.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-656240b8\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./event.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/event/event.vue\n// module id = null\n// module chunks = ","import VueRouter from 'vue-router'\r\nimport aRegister from './components/register/register.vue'\r\nimport aTimeline from './components/timeline/timeline.vue'\r\nimport aEvent from './components/event/event.vue'\r\n\r\nconst routes = [\r\n  {\r\n    name: 'REGISTER',\r\n    path: '/',\r\n    component: aRegister\r\n  },\r\n  {\r\n    name: 'TIMELINE',\r\n    path: '/timeline',\r\n    component: aTimeline\r\n  },\r\n  {\r\n    name: 'EVENT',\r\n    path: '/event',\r\n    component: aEvent\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  routes\r\n})\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","import axios from 'axios'\r\n\r\nexport function GUID() {\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n  s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nfunction s4() {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n  .toString(16)\r\n  .substring(1);\r\n}\r\n\r\nexport function getAll() {\r\n  var get = axios.get('https://gcu.ideagen-development.com/Timeline/GetAllTimelinesAndEvent', {\r\n    headers: {\r\n      'TenantId': 'Team19',\r\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147'\r\n    }\r\n  }).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return get\r\n}\r\n\r\nexport function createTimeline(title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Create',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineId': GUID()\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteTimeline(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeTimelineTitle(id, title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/EditTitle',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function createEvent(payload) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Create',\r\n    {\r\n    'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n    'TenantId':'Team19',\r\n    'TimelineEventId': GUID(),\r\n    'Title': payload.title,\r\n    'Description': payload.description,\r\n    'EventDateTime': payload.dateTime\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function linkEventToTimeline(eventId, timelineId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/LinkEvent',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineId': timelineId,\r\n      'EventId': eventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function unlinkEventFromTimeline(eventId, timelineId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/UnlinkEvent',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'EventId': eventId,\r\n      'TimelineId': timelineId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function linkEventToEvent(eventId, linkToEventId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/LinkEvents',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId': eventId,\r\n      'LinkedToTimelineEventId': linkToEventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function unlinkEventFromEvent(eventId, unlinkedFromEventId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/UnlinkEvents',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId': eventId,\r\n      'UnlinkedFromTimelineEventId': unlinkedFromEventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventTitle(id, title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditTitle',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventDate(id, dateTime) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditEventDateTime',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'EventDateTime': dateTime,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventDescription(id, description) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditDescription',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Description': description,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function createAttachment(payload) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Create',\r\n    {\r\n    'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n    'TenantId':'Team19',\r\n    'AttachmentId': GUID(),\r\n    'Title': payload.title,\r\n    'TimelineEventId': payload.eventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteAttachment(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'AttachmentId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/api.js","import Vue from 'vue/dist/vue.js'\nimport app from './app.vue'\nimport BootstrapVue from 'bootstrap-vue'\nimport VueRouter from 'vue-router'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\nimport router from './router'\nimport {getAll, createTimeline, deleteTimeline, changeTimelineTitle, createEvent, linkEventToTimeline, unlinkEventFromEvent, linkEventToEvent, deleteEvent, changeEventTitle, unlinkEventFromTimeline, changeEventDescription, createAttachment, deleteAttachment} from './scripts/api'\n\nVue.use(BootstrapVue)\nVue.use(VueRouter)\nVue.use(Vuex)\n\nVue.config.productionTip = false\n\nvar timelines = []\n\nconst store = new Vuex.Store({\n  state: {\n    timelines,\n    currentTimeline: null,\n    currentEvent: null\n  },\n  mutations: {\n    addTimeline (state, timeline) {\n      state.timelines.push(timeline)\n    },\n    addEvent(state, event) {\n      state.currentTimeline.timelineEvents.push(event)\n    },\n    removeTimeline(state, id) {\n      for (var i = 0; i < state.timelines.length; i++) {\n        if (state.timelines[i].id === id) {\n          state.timelines.splice(i,1)\n          if (state.currentTimeline != null)\n            if (state.currentTimeline.id === id)\n              state.currentTimeline = null\n          return\n        }\n      }\n    },\n    setCurrentTimeline(state, timeline) {\n      state.currentTimeline = timeline\n    },\n    clearCurrentTimeline(state) {\n      state.currentTimeline = null\n    },\n    setCurrentEvent(state, event) {\n      state.currentEvent = event\n    },\n    clearCurrentEvent(state) {\n      state.currentEvent = null\n    },\n    updateTimelineTitle(state, payload) {\n      for (var i = 0; i < state.timelines.length; i++) {\n        if (state.timelines[i].id === payload.id) {\n          state.timelines[i].title = payload.title\n          if(payload.id === state.currentTimeline.id) {\n            state.currentTimeline.title = payload.title\n          }\n          return\n        }\n      }\n    },\n    removeEvent(state, id) {\n      for (var i = 0; i < state.currentTimeline.timelineEvents.length; i++) {\n        if (state.currentTimeline.timelineEvents[i].Id === id) {\n          state.currentTimeline.timelineEvents.splice(i,1)\n          if (state.currentEvent != null)\n            if (state.currentEvent.Id === id)\n              state.currentEvent = null\n          return\n        }\n      }\n    },\n    updateEventTitle(state, payload) {\n      for (var i = 0; i < state.currentTimeline.timelineEvents.length; i++) {\n        if (state.currentTimeline.timelineEvents[i].Id === payload.id) {\n          state.currentTimeline.timelineEvents[i].Title = payload.title\n          if(payload.id === state.currentEvent.Id) {\n            state.currentEvent.Title = payload.title\n          }\n          return\n        }\n      }\n    },\n    updateEventDescription(state, payload) {\n      for (var i = 0; i < state.currentTimeline.timelineEvents.length; i++) {\n        if (state.currentTimeline.timelineEvents[i].Id === payload.id) {\n          state.currentTimeline.timelineEvents[i].Description = payload.description\n          if(payload.id === state.currentEvent.Id) {\n            state.currentEvent.Description = payload.description\n          }\n          return\n        }\n      }\n    },\n    addAttachment(state, attachment) {\n      state.currentEvent.Attachments.push(attachment)\n    },\n    removeAttachment(state, id) {\n      for (var i = 0; i < state.currentEvent.Attachments.length; i++) {\n        if (state.currentEvent.Attachments[i].Id === id) {\n          state.currentEvent.Attachments.splice(i,1)\n          return\n        }\n      }\n    }\n  },\n  actions: {\n    createTimeline ({ commit }, title) {\n      return new Promise ((resolve) => {\n        createTimeline(title).then(response => {\n          var item = response.data\n          var timeline = {\n           title: item.Title,\n           date: item.CreationTimeStamp,\n           isDeleted: item.IsDeleted,\n           id: item.Id,\n           selected: false,\n           _rowVariant: ''\n        }\n          timeline.timelineEvents = []\n          commit('addTimeline', timeline)\n          resolve(timeline)\n        })\n      })\n    },\n    deleteTimeline({ commit }, id) {\n      deleteTimeline(id).then(() => {\n        commit('removeTimeline', id)\n      })\n    },\n    deleteSelectedTimelines({ state }) {\n      /*\n        Filter returns an array of all selected timelines.\n        Foreach loops through that returned array,\n        using 'e' as the current timline.\n        Dispatch calls deleteTimeline action.\n        This at the end allows the use of this inside the forEach function.\n      */\n      state.timelines.filter(t => t.selected).forEach(function(e){this.dispatch('deleteTimeline',e.id)}, this)\n    },\n    changeTimelineTitle({ commit }, payload) {\n      var id = payload.id\n      var title = payload.title\n      changeTimelineTitle(id, title).then(() => {\n        commit('updateTimelineTitle', {id, title})\n      })\n    },\n    createEventExact ({state, commit}, payload) {\n      var newEvent = {}\n      createEvent(payload).then(response => {\n        newEvent = response.data\n        newEvent.LinkedTimelineEventIds = []\n        linkEventToTimeline(newEvent.Id, state.currentTimeline.id).then(() => {\n          commit('addEvent', newEvent)\n        })\n      })\n    },\n    createEventBA({state, commit}, payload) {\n      var newEvent = {}\n      createEvent(payload).then(response => {\n        newEvent = response.data\n        linkEventToTimeline(newEvent.Id, state.currentTimeline.id).then(() => {\n          if (payload.beforeAfter === 'before') {\n            /*\n              Create a new timeline, create Event 1 at 12:00.\n              Create Event 2 set as before Event 1.\n              Now if you create Event 3 and also set this as before Event 1,\n              this will find that Event 2 already has a link to Event 1.\n              Replaces Event 2's link to Event 1 with a link to Event 3.\n              Links Event 3 to Event 1.\n              index would be the index of Event 2 in that example\n            */\n            let index = state.currentTimeline.timelineEvents.map(function(e) {if(e.LinkedTimelineEventIds != null)if(e.LinkedTimelineEventIds[0] != null)return e.LinkedTimelineEventIds[0]}).indexOf(payload.eventId)\n            if (index != -1) {\n              unlinkEventFromEvent(state.currentTimeline.timelineEvents[index].Id, payload.eventId)\n              linkEventToEvent(state.currentTimeline.timelineEvents[index].Id, newEvent.Id)\n              state.currentTimeline.timelineEvents[index].LinkedTimelineEventIds[0] = newEvent.Id\n            }\n            linkEventToEvent(newEvent.Id, payload.eventId).then(() => {\n              newEvent.LinkedTimelineEventIds = []\n              newEvent.LinkedTimelineEventIds.push(payload.eventId)\n              commit('addEvent', newEvent)\n            })\n          } else if (payload.beforeAfter === 'after') {\n            let index = state.currentTimeline.timelineEvents.map(function(e) {return e.Id}).indexOf(payload.eventId)\n            let item = state.currentTimeline.timelineEvents[index]\n            if (item.LinkedTimelineEventIds != null) {\n              if (item.LinkedTimelineEventIds[0] != null) {\n                linkEventToEvent(newEvent.Id, item.LinkedTimelineEventIds[0])\n                unlinkEventFromEvent(item.Id, item.LinkedTimelineEventIds[0])\n                newEvent.LinkedTimelineEventIds = []\n                newEvent.LinkedTimelineEventIds.push(item.LinkedTimelineEventIds[0])\n              }\n            }\n            linkEventToEvent(item.Id, newEvent.Id).then(() => {\n              item.LinkedTimelineEventIds = []\n              item.LinkedTimelineEventIds.push(newEvent.Id)\n              commit('addEvent', newEvent)\n            })\n          }\n        })\n      })\n    },\n    deleteEvent({state, commit}, id) {\n      var eventBeforeIndex = state.currentTimeline.timelineEvents.map(function(e) {if(e.LinkedTimelineEventIds != null)if(e.LinkedTimelineEventIds[0] != null)return e.LinkedTimelineEventIds[0]}).indexOf(id)\n      var ev = state.currentTimeline.timelineEvents.filter(e => e.Id === id)[0]\n      var eventAfterId = ''\n\n      if (ev.LinkedTimelineEventIds != null) { if (ev.LinkedTimelineEventIds[0] != null) {\n        eventAfterId = ev.LinkedTimelineEventIds[0]\n      }}\n\n      if (eventBeforeIndex != -1) {\n        unlinkEventFromEvent(state.currentTimeline.timelineEvents[eventBeforeIndex].Id, id).then(() => {\n          if (eventAfterId != '') {\n            linkEventToEvent(state.currentTimeline.timelineEvents[eventBeforeIndex].Id, eventAfterId)\n            state.currentTimeline.timelineEvents[eventBeforeIndex].LinkedTimelineEventIds[0] = eventAfterId\n          } else {\n            state.currentTimeline.timelineEvents[eventBeforeIndex].LinkedTimelineEventIds[0].slice(0,1)\n          }\n        })\n      }\n\n      deleteEvent(id).then(() => {\n        unlinkEventFromTimeline(id, state.currentTimeline.id).then(() => {\n          commit('removeEvent', id)\n        })\n      })\n\n\n    },\n    changeEventTitle({ commit }, payload) {\n      var id = payload.id\n      var title = payload.title\n      changeEventTitle(id, title).then(() => {\n        commit('updateEventTitle', {id, title})\n      })\n    },\n    changeEventDescription({ commit }, payload) {\n      var id = payload.id\n      var description = payload.description\n      changeEventDescription(id, description).then(() => {\n        commit('updateEventDescription', {id, description})\n      })\n    },\n    createAttachment({state, commit}, title) {\n      var payload = {}\n      payload.title = title\n      payload.eventId = state.currentEvent.Id\n      createAttachment(payload).then(response => {\n        commit('addAttachment', response.data)\n      })\n    },\n    deleteAttachment({commit}, id) {\n      deleteAttachment(id).then(() => {\n        commit('removeAttachment', id)\n      })\n    }\n  },\n  getters: {\n    selectedTimelines: (state) => {\n      return state.timelines.filter(t => t.selected)\n    }\n  },\n  plugins: [createPersistedState({\n    paths: ['currentTimeline','currentEvent']\n })]\n})\n\nnew Vue({\n  render: h => h(app),\n  router,\n  store,\n  methods: {\n    fetchTimelines() {\n      timelines.splice(0, timelines.length)\n      var get = getAll()\n      get.then((data) => {\n        for (var i = 0; i < data.data.Timelines.length; i++) {\n          var item = data.data.Timelines[i]\n          var timeline = {\n             title: item.Title,\n             date: item.CreationTimeStamp,\n             isDeleted: item.isDeleted,\n             id: item.Id,\n             timelineEvents: item.TimelineEvents,\n             selected: false,\n             _rowVariant: ''\n          }\n          timelines.push(timeline)\n        }\n        this.updateCurrentTimeline()\n        this.updateCurrentEvent()\n      })\n    },\n    updateCurrentTimeline() {\n      if (this.$store.state.currentTimeline === null) return\n      if (this.$store.state.timelines === null) return\n      if (this.$store.state.timelines[0] === null) return\n      var index = this.$store.state.timelines.map(function(e){return e.id}).indexOf(this.$store.state.currentTimeline.id)\n      if (index === -1) {\n        this.$store.commit('clearCurrentTimeline')\n      } else {\n        this.$store.commit('setCurrentTimeline',this.$store.state.timelines[index])\n      }\n    },\n    updateCurrentEvent() {\n      if (this.$store.state.currentEvent === null) return\n      if (this.$store.state.currentTimeline === null) return\n      if (this.$store.state.currentTimeline.timelineEvents === null) return\n      if (this.$store.state.currentTimeline.timelineEvents[0] === null) return\n      var index = this.$store.state.currentTimeline.timelineEvents.map(function(e){return e.Id}).indexOf(this.$store.state.currentEvent.Id)\n      if (index === -1) {\n        this.$store.commit('clearCurrentEvent')\n      } else {\n        this.$store.commit('setCurrentEvent',this.$store.state.currentTimeline.timelineEvents[index])\n      }\n    }\n  },\n  mounted() {\n    this.fetchTimelines()\n  }\n}).$mount('#app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"img/logo.2847cb02.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/logo.png\n// module id = iQH9\n// module chunks = 1"],"sourceRoot":""}