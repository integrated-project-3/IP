{"remainingRequest":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\node_modules\\eslint-loader\\index.js??ref--18-0!C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\src\\scripts\\api.js","dependencies":[{"path":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\src\\scripts\\api.js","mtime":1523648838721},{"path":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\package.json","mtime":1523642910731},{"path":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1520545180302},{"path":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\node_modules\\eslint-loader\\index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.regexp.match\";\nimport axios from 'axios';\nexport function GUID() {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nfunction s4() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n\nfunction getBase64(callback, file) {\n  var reader = new FileReader();\n  reader.readAsDataURL(file);\n\n  reader.onload = function () {\n    callback(reader.result);\n  };\n\n  reader.onerror = function (error) {\n    console.log(error);\n  };\n}\n\nfunction urlToFile(url, filename, mimeType) {\n  mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1];\n  return fetch(url).then(function (res) {\n    return res.arrayBuffer();\n  }).then(function (buf) {\n    return new File([buf], filename, {\n      type: mimeType\n    });\n  });\n}\n\nexport function getAll() {\n  var get = axios.get('https://gcu.ideagen-development.com/Timeline/GetAllTimelinesAndEvent', {\n    headers: {\n      'TenantId': 'Team19',\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147'\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return get;\n}\nexport function createTimeline(title) {\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Create', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'Title': title,\n    'TimelineId': GUID()\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function deleteTimeline(id) {\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Delete', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function changeTimelineTitle(id, title) {\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/EditTitle', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'Title': title,\n    'TimelineId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function createEvent(payload) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Create', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineEventId': GUID(),\n    'Title': payload.title,\n    'Description': payload.description,\n    'EventDateTime': payload.dateTime\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function linkEventToTimeline(eventId, timelineId) {\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/LinkEvent', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineId': timelineId,\n    'EventId': eventId\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function unlinkEventFromTimeline(eventId, timelineId) {\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/UnlinkEvent', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'EventId': eventId,\n    'TimelineId': timelineId\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function linkEventToEvent(eventId, linkToEventId) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/LinkEvents', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineEventId': eventId,\n    'LinkedToTimelineEventId': linkToEventId\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function unlinkEventFromEvent(eventId, unlinkedFromEventId) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/UnlinkEvents', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineEventId': eventId,\n    'UnlinkedFromTimelineEventId': unlinkedFromEventId\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function deleteEvent(id) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Delete', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'TimelineEventId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function changeEventTitle(id, title) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditTitle', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'Title': title,\n    'TimelineEventId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function changeEventDate(id, dateTime) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditEventDateTime', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'EventDateTime': dateTime,\n    'TimelineEventId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function changeEventDescription(id, description) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditDescription', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'Description': description,\n    'TimelineEventId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function createAttachment(payload) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Create', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'AttachmentId': GUID(),\n    'Title': payload.title,\n    'TimelineEventId': payload.eventId\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function deleteAttachment(id) {\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Delete', {\n    'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n    'TenantId': 'Team19',\n    'AttachmentId': id\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return put;\n}\nexport function generateUploadURL(id) {\n  var get = axios.get('https://gcu.ideagen-development.com/TimelineEventAttachment/GenerateUploadPresignedUrl', {\n    headers: {\n      'TenantId': 'Team19',\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n      'AttachmentId': id\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return get;\n}\nexport function generateGetURL(id) {\n  var get = axios.get('https://gcu.ideagen-development.com/TimelineEventAttachment/GenerateGetPresignedUrl', {\n    headers: {\n      'TenantId': 'Team19',\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\n      'AttachmentId': id\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return get;\n}\nexport function uploadAttachment(payload) {\n  var fileBase64 = '';\n  return new Promise(function (resolve, reject) {\n    getBase64(function (val) {\n      fileBase64 = val;\n      axios.put(payload.url, fileBase64).then(function (result) {\n        resolve(result);\n      }).catch(function (error) {\n        console.log(error);\n        reject(error);\n      });\n    }, payload.file);\n  });\n}\nexport function downloadAttachment(filename, url) {\n  return new Promise(function (resolve, reject) {\n    axios.get(url).then(function (response) {\n      var base64 = response.data;\n      urlToFile(base64, filename).then(function (file) {\n        resolve(file);\n      });\n    }).catch(function (error) {\n      console.log(error);\n      reject(error);\n    });\n  });\n}",{"version":3,"sources":["src\\scripts\\api.js"],"names":["axios","GUID","s4","Math","floor","random","toString","substring","getBase64","callback","file","reader","FileReader","readAsDataURL","onload","result","onerror","error","console","log","urlToFile","url","filename","mimeType","match","fetch","then","res","arrayBuffer","buf","File","type","getAll","get","headers","catch","createTimeline","title","put","deleteTimeline","id","changeTimelineTitle","createEvent","payload","description","dateTime","linkEventToTimeline","eventId","timelineId","unlinkEventFromTimeline","linkEventToEvent","linkToEventId","unlinkEventFromEvent","unlinkedFromEventId","deleteEvent","changeEventTitle","changeEventDate","changeEventDescription","createAttachment","deleteAttachment","generateUploadURL","generateGetURL","uploadAttachment","fileBase64","Promise","resolve","reject","val","downloadAttachment","base64","response","data"],"mappings":"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","file":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron\\src\\scripts\\api.js","sourceRoot":"C:\\Users\\chris\\OneDrive - GLASGOW CALEDONIAN UNIVERSITY\\3rd Year\\IP\\aileron","sourcesContent":["import axios from 'axios'\r\n\r\nexport function GUID() {\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n  s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nfunction s4() {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n  .toString(16)\r\n  .substring(1);\r\n}\r\n\r\nfunction getBase64(callback, file) {\r\n  var reader = new FileReader()\r\n  reader.readAsDataURL(file)\r\n  reader.onload = function() {\r\n    callback(reader.result)\r\n  }\r\n  reader.onerror = function(error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nfunction urlToFile(url, filename, mimeType) {\r\n  mimeType = mimeType || (url.match(/^data:([^;]+);/)||'')[1]\r\n    return (fetch(url)\r\n        .then(function(res){return res.arrayBuffer()})\r\n        .then(function(buf){return new File([buf], filename, {type:mimeType})})\r\n    );\r\n}\r\n\r\nexport function getAll() {\r\n  var get = axios.get('https://gcu.ideagen-development.com/Timeline/GetAllTimelinesAndEvent', {\r\n    headers: {\r\n      'TenantId': 'Team19',\r\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147'\r\n    }\r\n  }).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return get\r\n}\r\n\r\nexport function createTimeline(title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Create',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineId': GUID()\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteTimeline(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeTimelineTitle(id, title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/EditTitle',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function createEvent(payload) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Create',\r\n    {\r\n    'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n    'TenantId':'Team19',\r\n    'TimelineEventId': GUID(),\r\n    'Title': payload.title,\r\n    'Description': payload.description,\r\n    'EventDateTime': payload.dateTime\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function linkEventToTimeline(eventId, timelineId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/LinkEvent',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineId': timelineId,\r\n      'EventId': eventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function unlinkEventFromTimeline(eventId, timelineId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/Timeline/UnlinkEvent',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'EventId': eventId,\r\n      'TimelineId': timelineId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function linkEventToEvent(eventId, linkToEventId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/LinkEvents',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId': eventId,\r\n      'LinkedToTimelineEventId': linkToEventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function unlinkEventFromEvent(eventId, unlinkedFromEventId) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/UnlinkEvents',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId': eventId,\r\n      'UnlinkedFromTimelineEventId': unlinkedFromEventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'TimelineEventId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventTitle(id, title) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditTitle',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Title': title,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventDate(id, dateTime) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditEventDateTime',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'EventDateTime': dateTime,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function changeEventDescription(id, description) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEvent/EditDescription',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'Description': description,\r\n      'TimelineEventId': id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function createAttachment(payload) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Create',\r\n    {\r\n    'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n    'TenantId':'Team19',\r\n    'AttachmentId': GUID(),\r\n    'Title': payload.title,\r\n    'TimelineEventId': payload.eventId\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function deleteAttachment(id) {\r\n  var put = axios.put('https://gcu.ideagen-development.com/TimelineEventAttachment/Delete',\r\n    {\r\n      'AuthToken':'7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'TenantId':'Team19',\r\n      'AttachmentId':id\r\n    }\r\n  ).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return put\r\n}\r\n\r\nexport function generateUploadURL(id) {\r\n  var get = axios.get('https://gcu.ideagen-development.com/TimelineEventAttachment/GenerateUploadPresignedUrl', {\r\n    headers: {\r\n      'TenantId': 'Team19',\r\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'AttachmentId': id\r\n    }\r\n  }).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return get\r\n}\r\n\r\nexport function generateGetURL(id) {\r\n  var get = axios.get('https://gcu.ideagen-development.com/TimelineEventAttachment/GenerateGetPresignedUrl', {\r\n    headers: {\r\n      'TenantId': 'Team19',\r\n      'AuthToken': '7cbc5c61-bcfa-47d8-a171-599616102147',\r\n      'AttachmentId': id\r\n    }\r\n  }).catch(error => {\r\n    console.log(error)\r\n  })\r\n  return get\r\n}\r\n\r\nexport function uploadAttachment(payload) {\r\n  var fileBase64 = ''\r\n  return new Promise(function(resolve, reject) {\r\n    getBase64(function(val) {\r\n      fileBase64 = val\r\n      axios.put(payload.url, fileBase64\r\n      ).then(result => {\r\n        resolve(result)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        reject(error)\r\n      })\r\n    }, payload.file)\r\n  })\r\n}\r\n\r\nexport function downloadAttachment(filename, url) {\r\n  return new Promise(function(resolve, reject) {\r\n    axios.get(url)\r\n    .then(response => {\r\n      var base64 = response.data\r\n      urlToFile(base64,filename).then(function(file) {\r\n        resolve(file)\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n"]}]}