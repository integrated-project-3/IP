{"remainingRequest":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chris\\Desktop\\aileron\\node_modules\\eslint-loader\\index.js??ref--18-0!C:\\Users\\chris\\Desktop\\aileron\\src\\store.js","dependencies":[{"path":"C:\\Users\\chris\\Desktop\\aileron\\src\\store.js","mtime":1521570555841},{"path":"C:\\Users\\chris\\Desktop\\aileron\\package.json","mtime":1521302404735},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1520545180302},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\eslint-loader\\index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport createPersistedState from 'vuex-persistedstate';\nVue.use(Vuex);\nvar timelines = [];\n\nfunction fetchTimelines() {\n  console.log(\"Fetching timelines\");\n  timelines.splice(0, timelines.length);\n  axios.get('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/GetAllTimelinesAndEvents', {\n    headers: {\n      'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\n    }\n  }).then(function (data) {\n    for (var i = 0; i < data.data.length; i++) {\n      var item = data.data[i];\n      var timeline = {\n        title: item.Title,\n        date: item.CreationTimeStamp,\n        isDeleted: item.isDeleted,\n        id: item.Id,\n        timelineEvents: item.TimelineEvents,\n        selected: false,\n        _rowVariant: ''\n      };\n      timelines.push(timeline);\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nfetchTimelines();\nvar store = new Vuex.Store({\n  state: {\n    timelines: timelines,\n    currentTimeline: null\n  },\n  mutations: {\n    addTimeline: function addTimeline(state, timeline) {\n      state.timelines.push(timeline);\n    },\n    removeTimeline: function removeTimeline(state, id) {\n      for (var i = 0; i < state.timelines.length; i++) {\n        if (state.timelines[i].id === id) {\n          state.timelines.splice(i, 1);\n          return;\n        }\n      }\n    },\n    setCurrentTimeline: function setCurrentTimeline(state, timeline) {\n      state.currentTimeline = timeline;\n    }\n  },\n  actions: {\n    createTimeline: function createTimeline(_ref, title) {\n      var commit = _ref.commit;\n      axios.put('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/CreateTimeline', {\n        'Title': title\n      }, {\n        headers: {\n          'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\n        }\n      }).then(function (response) {\n        var item = response.data;\n        var timeline = {\n          title: item.Title,\n          date: item.CreationTimeStamp,\n          isDeleted: item.isDeleted,\n          id: item.Id,\n          selected: false,\n          _rowVariant: ''\n        };\n        commit('addTimeline', timeline);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    deleteTimeline: function deleteTimeline(_ref2, id) {\n      var commit = _ref2.commit;\n      axios.put('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/DeleteTimeline', {\n        'TimelineId': id\n      }, {\n        headers: {\n          'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\n        }\n      }).then(function () {\n        commit('removeTimeline', id);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    deleteSelectedTimelines: function deleteSelectedTimelines(_ref3) {\n      var state = _ref3.state;\n\n      for (var i = state.timelines.length - 1; i >= 0; i--) {\n        var timeline = state.timelines[i];\n\n        if (timeline.selected === true) {\n          this.dispatch('deleteTimeline', timeline.id);\n        }\n      }\n    }\n  },\n  getters: {\n    selectedTimelines: function selectedTimelines(state) {\n      return state.timelines.filter(function (timeline) {\n        return timeline.selected;\n      });\n    }\n  },\n  plugins: [createPersistedState({\n    paths: ['currentTimeline']\n  })]\n});\nexport default store;",{"version":3,"sources":["src\\store.js"],"names":["Vue","Vuex","axios","createPersistedState","use","timelines","fetchTimelines","console","log","splice","length","get","headers","then","data","i","item","timeline","title","Title","date","CreationTimeStamp","isDeleted","id","Id","timelineEvents","TimelineEvents","selected","_rowVariant","push","catch","error","store","Store","state","currentTimeline","mutations","addTimeline","removeTimeline","setCurrentTimeline","actions","createTimeline","commit","put","response","deleteTimeline","deleteSelectedTimelines","dispatch","getters","selectedTimelines","filter","plugins","paths"],"mappings":"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","file":"C:\\Users\\chris\\Desktop\\aileron\\src\\store.js","sourceRoot":"C:\\Users\\chris\\Desktop\\aileron","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\nimport createPersistedState from 'vuex-persistedstate'\r\n\r\nVue.use(Vuex)\r\n\r\nvar timelines = []\r\n\r\nfunction fetchTimelines() {\r\n  console.log(\"Fetching timelines\")\r\n  timelines.splice(0, timelines.length)\r\n  axios.get('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/GetAllTimelinesAndEvents', {\r\n    headers: {\r\n      'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\r\n    }\r\n  })\r\n  .then((data) => {\r\n    for (var i = 0; i < data.data.length; i++) {\r\n      var item = data.data[i]\r\n      var timeline = {\r\n         title: item.Title,\r\n         date: item.CreationTimeStamp,\r\n         isDeleted: item.isDeleted,\r\n         id: item.Id,\r\n         timelineEvents: item.TimelineEvents,\r\n         selected: false,\r\n         _rowVariant: ''\r\n      }\r\n      timelines.push(timeline)\r\n    }\r\n  })\r\n  .catch(error => {\r\n    console.log(error)\r\n  })\r\n}\r\n\r\nfetchTimelines()\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    timelines,\r\n    currentTimeline: null\r\n  },\r\n  mutations: {\r\n    addTimeline (state, timeline) {\r\n      state.timelines.push(timeline)\r\n    },\r\n    removeTimeline(state, id) {\r\n      for (var i = 0; i < state.timelines.length; i++) {\r\n        if (state.timelines[i].id === id) {\r\n          state.timelines.splice(i,1)\r\n          return\r\n        }\r\n      }\r\n    },\r\n    setCurrentTimeline(state, timeline) {\r\n      state.currentTimeline = timeline\r\n    }\r\n  },\r\n  actions: {\r\n    createTimeline ({ commit }, title) {\r\n      axios.put('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/CreateTimeline',\r\n        {\r\n          'Title': title\r\n        },\r\n        {\r\n          headers:\r\n          {\r\n            'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\r\n          }\r\n        }\r\n      ).then(response => {\r\n        var item = response.data\r\n        var timeline = {\r\n          title: item.Title,\r\n          date: item.CreationTimeStamp,\r\n          isDeleted: item.isDeleted,\r\n          id: item.Id,\r\n          selected: false,\r\n          _rowVariant: ''\r\n        }\r\n        commit('addTimeline', timeline)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    deleteTimeline({ commit }, id) {\r\n      axios.put('https://b0qss3eydk.execute-api.eu-west-2.amazonaws.com/aileron/DeleteTimeline',\r\n        {\r\n          'TimelineId': id\r\n        },\r\n        {\r\n          headers:\r\n          {\r\n            'X-Api-Key': 'zQfYRHZ1vY3GFnvDZep8Z5KqlHsOKxgf1vnldchF'\r\n          }\r\n        }\r\n      ).then(() => {\r\n        commit('removeTimeline', id)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    deleteSelectedTimelines({ state }) {\r\n      for (var i = state.timelines.length-1; i >= 0; i--) {\r\n        var timeline = state.timelines[i]\r\n        if (timeline.selected === true) {\r\n          this.dispatch('deleteTimeline', timeline.id)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    selectedTimelines: (state) => {\r\n      return state.timelines.filter(timeline => timeline.selected)\r\n    }\r\n  },\r\n  plugins: [createPersistedState({\r\n    paths: ['currentTimeline']\r\n })]\r\n})\r\n\r\nexport default store\r\n"]}]}