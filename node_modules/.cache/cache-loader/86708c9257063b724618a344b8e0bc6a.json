{"remainingRequest":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chris\\Desktop\\aileron\\node_modules\\eslint-loader\\index.js??ref--18-0!C:\\Users\\chris\\Desktop\\aileron\\src\\scripts\\script.js","dependencies":[{"path":"C:\\Users\\chris\\Desktop\\aileron\\src\\scripts\\script.js","mtime":1522957214824},{"path":"C:\\Users\\chris\\Desktop\\aileron\\package.json","mtime":1522176194972},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1520545180302},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\chris\\Desktop\\aileron\\node_modules\\eslint-loader\\index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.replace\";\nexport function formatDate(ticks) {\n  var epochTicks = 621355968000000000;\n  var ticksSinceEpoch = ticks - epochTicks;\n  var millisecondsSinceEpoch = ticksSinceEpoch / 10000;\n  var date = new Date(millisecondsSinceEpoch);\n  return date.toLocaleDateString();\n}\nexport function formatEventTime(dateTime) {\n  if (dateTime.length === 16 || dateTime.length === 18) {\n    return dateTime.substring(11, 16);\n  }\n\n  return \"Time not available\";\n}\nexport function formatEventDate(dateTime) {\n  if (dateTime.length === 16 || dateTime.length === 18) {\n    var day = dateTime.substr(8, 2);\n    var month = dateTime.substr(5, 2);\n    var year = dateTime.substr(0, 4);\n    return day + '/' + month + '/' + year;\n  }\n\n  return \"Date not available\";\n}\nexport function validTitle(str) {\n  var s = str.replace(/\\s/g, '');\n\n  if (s.length >= 5) {\n    return true;\n  }\n\n  return false;\n}\n\nArray.prototype.diff = function (a) {\n  return this.filter(function (i) {\n    return a.indexOf(i) < 0;\n  });\n};\n\nfunction hasLinkedEvent(a) {\n  if (a.LinkedTimelineEventIds != null) {\n    if (a.LinkedTimelineEventIds[0] != null) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function sortEvents(events) {\n  // var eventsWithTime = []\n  // var eventsWithoutTime = []\n  //\n  // for (let i = 0; i < events.length; i++) {\n  //   if (events[i].EventDateTime.slice(-2) !== 'BA') {\n  //     eventsWithTime.push(events[i])\n  //   } else {\n  //     eventsWithoutTime.push(events[i])\n  //   }\n  // }\n  //\n  // if (eventsWithTime.length === 0) {\n  //   if (eventsWithoutTime.length > 0) {\n  //     eventsWithTime.push(eventsWithoutTime.splice(0,1)[0])\n  //   }\n  // }\n  //\n  // var sortedEvents = eventsWithTime.sort(function(a,b) {\n  //   a = new Date(a.EventDateTime)\n  //   b = new Date(b.EventDateTime)\n  //   return a - b\n  // })\n  //\n  // while (eventsWithoutTime.length != 0) {\n  //   for (var i = eventsWithoutTime.length-1; i >= 0; i--) {\n  //     var index = sortedEvents.map(function(e) {if (e.LinkedTimelineEventIds != null) if(e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithoutTime[i].Id) +1\n  //     if (index === 0) {\n  //       if (eventsWithoutTime[i].LinkedTimelineEventIds != null) {\n  //         if (eventsWithoutTime[i].LinkedTimelineEventIds[0] != null) {\n  //           index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithoutTime[i].LinkedTimelineEventIds[0])\n  //         } else {\n  //           index = -1\n  //         }\n  //       } else {\n  //         index = -1\n  //       }\n  //     }\n  //     if (index != -1) {\n  //       var ev = eventsWithoutTime.splice(i,1)[0]\n  //       sortedEvents.splice(index, 0, ev)\n  //     }\n  //   }\n  // }\n  var sortedEvents = events.sort(function (a, b) {\n    a = new Date(a.EventDateTime);\n    b = new Date(b.EventDateTime);\n    return a - b;\n  }); // var sortedEventIds = []\n  //\n  // for (var i = sortedEvents.length-1; i >= 0; i--) {\n  //   if (!sortedEventIds.includes(sortedEvents[i].Id)) {\n  //     if (hasLinkedEvent(sortedEvents[i])) {\n  //       var done = false\n  //       var newPos = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\n  //       while (!done) {\n  //         if (newPos != -1) {\n  //           if (hasLinkedEvent(sortedEvents[newPos])) {\n  //             var n = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newPos].LinkedTimelineEventIds[0])\n  //             if (n != -1) {\n  //               newPos = n\n  //             } else done = true\n  //           } else done = true\n  //         } else done = true\n  //       }\n  //       sortedEventIds.push(sortedEvents[i].Id)\n  //       sortedEvents.splice(newPos-1,0,sortedEvents.splice(i,1)[0])\n  //       if (i > 0) {\n  //         if (sortedEventIds.includes(sortedEvents[i-1].Id)) {\n  //           sortedEventIds.splice(sortedEventIds.indexOf(sortedEvents[i-1].Id), 1)\n  //         }\n  //       }\n  //       i = sortedEvents.length-1\n  //     }\n  //   }\n  // }\n  // for (var i = 0; i < sortedEvents.length; i++) {\n  //   if (hasLinkedEvent(sortedEvents[i])) {\n  //     var moveList = []\n  //     moveList.push(i)\n  //     var newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\n  //     var done = false\n  //     // debugger\n  //     while (!done) {\n  //       if (hasLinkedEvent(sortedEvents[newIndex])) {\n  //         moveList.push(newIndex)\n  //         newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newIndex].LinkedTimelineEventIds[0])\n  //       } else {\n  //         done = true\n  //       }\n  //     }\n  //     for (var j = moveList.length-1; j >= 0; j--) {\n  //     // for (var j = 0; j < moveList.length; j++) {\n  //       sortedEvents.splice(newIndex-1,0,sortedEvents.splice(moveList[j], 1)[0])\n  //     }\n  //   }\n  // }\n\n  var eventsWithLinkedEvents = [];\n\n  for (var i = sortedEvents.length - 1; i >= 0; i--) {\n    if (hasLinkedEvent(sortedEvents[i])) {\n      eventsWithLinkedEvents.push(sortedEvents.splice(i, 1)[0]);\n    }\n  }\n\n  while (eventsWithLinkedEvents.length != 0) {\n    for (var i = eventsWithLinkedEvents.length - 1; i >= 0; i--) {\n      var index = sortedEvents.map(function (e) {\n        if (e.LinkedTimelineEventIds != null) if (e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0];\n      }).indexOf(eventsWithLinkedEvents[i].Id) + 1;\n\n      if (index === 0) {\n        if (eventsWithLinkedEvents[i].LinkedTimelineEventIds != null) {\n          if (eventsWithLinkedEvents[i].LinkedTimelineEventIds[0] != null) {\n            index = sortedEvents.map(function (e) {\n              return e.Id;\n            }).indexOf(eventsWithLinkedEvents[i].LinkedTimelineEventIds[0]);\n          } else {\n            index = -1;\n          }\n        } else {\n          index = -1;\n        }\n      }\n\n      if (index != -1) {\n        var ev = eventsWithLinkedEvents.splice(i, 1)[0];\n        sortedEvents.splice(index, 0, ev);\n      }\n    }\n  }\n\n  return sortedEvents;\n}",{"version":3,"sources":["src\\scripts\\script.js"],"names":["formatDate","ticks","epochTicks","ticksSinceEpoch","millisecondsSinceEpoch","date","Date","toLocaleDateString","formatEventTime","dateTime","length","substring","formatEventDate","day","substr","month","year","validTitle","str","s","replace","Array","prototype","diff","a","filter","i","indexOf","hasLinkedEvent","LinkedTimelineEventIds","sortEvents","events","sortedEvents","sort","b","EventDateTime","eventsWithLinkedEvents","push","splice","index","map","e","Id","ev"],"mappings":"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","file":"C:\\Users\\chris\\Desktop\\aileron\\src\\scripts\\script.js","sourceRoot":"C:\\Users\\chris\\Desktop\\aileron","sourcesContent":["export function formatDate(ticks) {\r\n  const epochTicks = 621355968000000000;\r\n  const ticksSinceEpoch = ticks - epochTicks;\r\n  const millisecondsSinceEpoch = ticksSinceEpoch / 10000;\r\n  const date = new Date(millisecondsSinceEpoch);\r\n  return date.toLocaleDateString()\r\n}\r\n\r\nexport function formatEventTime(dateTime) {\r\n  if (dateTime.length === 16 || dateTime.length === 18) {\r\n    return dateTime.substring(11,16)\r\n  }\r\n  return \"Time not available\"\r\n}\r\n\r\nexport function formatEventDate(dateTime) {\r\n  if (dateTime.length === 16 || dateTime.length === 18) {\r\n    var day = dateTime.substr(8,2)\r\n    var month = dateTime.substr(5,2)\r\n    var year = dateTime.substr(0,4)\r\n    return day + '/' + month + '/' + year\r\n  }\r\n  return \"Date not available\"\r\n}\r\n\r\nexport function validTitle(str) {\r\n  var s = str.replace(/\\s/g,'')\r\n  if (s.length >= 5) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nArray.prototype.diff = function(a) {\r\n  return this.filter(function(i) {return a.indexOf(i) < 0})\r\n}\r\n\r\nfunction hasLinkedEvent(a) {\r\n  if (a.LinkedTimelineEventIds != null) {\r\n    if (a.LinkedTimelineEventIds[0] != null) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport function sortEvents(events) {\r\n\r\n  // var eventsWithTime = []\r\n  // var eventsWithoutTime = []\r\n  //\r\n  // for (let i = 0; i < events.length; i++) {\r\n  //   if (events[i].EventDateTime.slice(-2) !== 'BA') {\r\n  //     eventsWithTime.push(events[i])\r\n  //   } else {\r\n  //     eventsWithoutTime.push(events[i])\r\n  //   }\r\n  // }\r\n  //\r\n  // if (eventsWithTime.length === 0) {\r\n  //   if (eventsWithoutTime.length > 0) {\r\n  //     eventsWithTime.push(eventsWithoutTime.splice(0,1)[0])\r\n  //   }\r\n  // }\r\n  //\r\n  // var sortedEvents = eventsWithTime.sort(function(a,b) {\r\n  //   a = new Date(a.EventDateTime)\r\n  //   b = new Date(b.EventDateTime)\r\n  //   return a - b\r\n  // })\r\n  //\r\n  // while (eventsWithoutTime.length != 0) {\r\n  //   for (var i = eventsWithoutTime.length-1; i >= 0; i--) {\r\n  //     var index = sortedEvents.map(function(e) {if (e.LinkedTimelineEventIds != null) if(e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithoutTime[i].Id) +1\r\n  //     if (index === 0) {\r\n  //       if (eventsWithoutTime[i].LinkedTimelineEventIds != null) {\r\n  //         if (eventsWithoutTime[i].LinkedTimelineEventIds[0] != null) {\r\n  //           index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithoutTime[i].LinkedTimelineEventIds[0])\r\n  //         } else {\r\n  //           index = -1\r\n  //         }\r\n  //       } else {\r\n  //         index = -1\r\n  //       }\r\n  //     }\r\n  //     if (index != -1) {\r\n  //       var ev = eventsWithoutTime.splice(i,1)[0]\r\n  //       sortedEvents.splice(index, 0, ev)\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  var sortedEvents = events.sort(function(a,b) {\r\n    a = new Date(a.EventDateTime)\r\n    b = new Date(b.EventDateTime)\r\n    return a - b\r\n  })\r\n\r\n  // var sortedEventIds = []\r\n  //\r\n  // for (var i = sortedEvents.length-1; i >= 0; i--) {\r\n  //   if (!sortedEventIds.includes(sortedEvents[i].Id)) {\r\n  //     if (hasLinkedEvent(sortedEvents[i])) {\r\n  //       var done = false\r\n  //       var newPos = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\r\n  //       while (!done) {\r\n  //         if (newPos != -1) {\r\n  //           if (hasLinkedEvent(sortedEvents[newPos])) {\r\n  //             var n = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newPos].LinkedTimelineEventIds[0])\r\n  //             if (n != -1) {\r\n  //               newPos = n\r\n  //             } else done = true\r\n  //           } else done = true\r\n  //         } else done = true\r\n  //       }\r\n  //       sortedEventIds.push(sortedEvents[i].Id)\r\n  //       sortedEvents.splice(newPos-1,0,sortedEvents.splice(i,1)[0])\r\n  //       if (i > 0) {\r\n  //         if (sortedEventIds.includes(sortedEvents[i-1].Id)) {\r\n  //           sortedEventIds.splice(sortedEventIds.indexOf(sortedEvents[i-1].Id), 1)\r\n  //         }\r\n  //       }\r\n  //       i = sortedEvents.length-1\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  // for (var i = 0; i < sortedEvents.length; i++) {\r\n  //   if (hasLinkedEvent(sortedEvents[i])) {\r\n  //     var moveList = []\r\n  //     moveList.push(i)\r\n  //     var newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[i].LinkedTimelineEventIds[0])\r\n  //     var done = false\r\n  //     // debugger\r\n  //     while (!done) {\r\n  //       if (hasLinkedEvent(sortedEvents[newIndex])) {\r\n  //         moveList.push(newIndex)\r\n  //         newIndex = sortedEvents.map(function(e){return e.Id}).indexOf(sortedEvents[newIndex].LinkedTimelineEventIds[0])\r\n  //       } else {\r\n  //         done = true\r\n  //       }\r\n  //     }\r\n  //     for (var j = moveList.length-1; j >= 0; j--) {\r\n  //     // for (var j = 0; j < moveList.length; j++) {\r\n  //       sortedEvents.splice(newIndex-1,0,sortedEvents.splice(moveList[j], 1)[0])\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  var eventsWithLinkedEvents = []\r\n\r\n  for (var i = sortedEvents.length-1; i >= 0; i--) {\r\n    if (hasLinkedEvent(sortedEvents[i])) {\r\n      eventsWithLinkedEvents.push(sortedEvents.splice(i,1)[0])\r\n    }\r\n  }\r\n\r\n  while (eventsWithLinkedEvents.length != 0) {\r\n    for (var i = eventsWithLinkedEvents.length-1; i >= 0; i--) {\r\n      var index = sortedEvents.map(function(e) {if (e.LinkedTimelineEventIds != null) if(e.LinkedTimelineEventIds[0] != null) return e.LinkedTimelineEventIds[0]}).indexOf(eventsWithLinkedEvents[i].Id) +1\r\n      if (index === 0) {\r\n        if (eventsWithLinkedEvents[i].LinkedTimelineEventIds != null) {\r\n          if (eventsWithLinkedEvents[i].LinkedTimelineEventIds[0] != null) {\r\n            index = sortedEvents.map(function(e) {return e.Id}).indexOf(eventsWithLinkedEvents[i].LinkedTimelineEventIds[0])\r\n          } else {\r\n            index = -1\r\n          }\r\n        } else {\r\n          index = -1\r\n        }\r\n      }\r\n      if (index != -1) {\r\n        var ev = eventsWithLinkedEvents.splice(i,1)[0]\r\n        sortedEvents.splice(index, 0, ev)\r\n      }\r\n    }\r\n  }\r\n\r\n  return sortedEvents\r\n}\r\n"]}]}